package yugioh;

import codigo.Armadilhas;
import codigo.Audio;
import static yugioh.Yugioh.b1;
import static yugioh.Yugioh.b2;

import codigo.Baralho;
import codigo.Carta;
import codigo.Efeitos;
import codigo.EfeitosMonstros;
import codigo.Jogador;
import codigo.Passivas;
import codigo.PassivasAtaque;
import java.io.File;
import java.io.IOException;
import java.net.URL;
import java.util.ArrayList;
import java.util.Random;
import java.util.ResourceBundle;
import java.util.logging.Level;
import java.util.logging.Logger;
import javafx.application.Platform;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.fxml.Initializable;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.MenuItem;
import javafx.scene.control.SplitMenuButton;
import javafx.scene.control.TextArea;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.GridPane;
import javafx.scene.media.Media;
import javafx.scene.media.MediaPlayer;
import javafx.stage.Stage;
import javax.swing.JOptionPane;

public class TelaJogoController implements Initializable {

    private String vez;
    private Carta m;
    private Jogador usuario, maquina;
    private int numero = 0, turno = 1;

    private ArrayList<ImageView> mão;
    private ArrayList<SplitMenuButton> opções;
    private ArrayList<MenuItem> opçõesMonstro;
    private ArrayList<MenuItem> botões;
    private Efeitos efeitos;
    private EfeitosMonstros efeitosMonstros;
    private Passivas passivas;
    private PassivasAtaque passivasAtaque;
    private Armadilhas armadilhas;
    @FXML
    private ImageView foto1;
    @FXML
    private ImageView carta1;
    @FXML
    private ImageView carta2;
    @FXML
    private ImageView carta3;
    @FXML
    private ImageView carta4;
    @FXML
    private ImageView carta5;
    @FXML
    private ImageView carta6;
    @FXML
    private ImageView carta7;
    @FXML
    private ImageView perfil1;
    @FXML
    private ImageView perfil2;
    @FXML
    private ImageView set1;
    @FXML
    private ImageView set2;
    @FXML
    private ImageView set3;
    @FXML
    private ImageView set4;
    @FXML
    private ImageView set5;
    @FXML
    private ImageView set6;
    private ArrayList<ImageView> campoMonstro1;

    @FXML
    private ImageView set7;
    @FXML
    private ImageView set8;
    @FXML
    private ImageView set9;
    @FXML
    private ImageView set10;
    @FXML
    private ImageView set11;
    @FXML
    private ImageView set12;
    @FXML
    private ImageView cemitérioMáquina;
    @FXML
    private ImageView cemitérioJogador;
    private ArrayList<ImageView> campoMonstro2;

    @FXML
    private ImageView set13;
    @FXML
    private ImageView set14;
    @FXML
    private ImageView set15;
    @FXML
    private ImageView set16;
    @FXML
    private ImageView set17;
    @FXML
    private ImageView set18;
    private ArrayList<ImageView> campoMagia1;

    @FXML
    private ImageView set19;
    @FXML
    private ImageView set20;
    @FXML
    private ImageView set21;
    @FXML
    private ImageView set22;
    @FXML
    private ImageView set23;
    @FXML
    private ImageView set24;
    private ArrayList<ImageView> viradasBaixo;

    @FXML
    private ImageView set25;
    @FXML
    private ImageView set26;
    @FXML
    private ImageView set27;
    @FXML
    private ImageView set28;
    @FXML
    private ImageView set29;
    @FXML
    private ImageView set30;
    private ArrayList<ImageView> viradasBaixo2;
    @FXML
    private SplitMenuButton bot1;
    @FXML
    private Button bot2;
    @FXML
    private Button bot3;
    @FXML
    private Button bot4;
    @FXML
    private Button bot5;

    @FXML
    private MenuItem item1;
    @FXML
    private MenuItem item2;
    @FXML
    private MenuItem item3;
    @FXML
    private MenuItem item4;
    @FXML
    private MenuItem item5;
    @FXML
    private MenuItem item6;
    @FXML
    private MenuItem item7;
    @FXML
    private MenuItem item8;
    @FXML
    private MenuItem item9;
    @FXML
    private MenuItem item10;
    @FXML
    private MenuItem item11;
    @FXML
    private MenuItem item12;
    @FXML
    private MenuItem item13;
    @FXML
    private MenuItem item14;
    @FXML
    private MenuItem item15;
    @FXML
    private MenuItem item16;
    @FXML
    private MenuItem item17;
    @FXML
    private MenuItem item18;
    @FXML
    private MenuItem item19;
    @FXML
    private MenuItem item20;
    @FXML
    private MenuItem item21;
    @FXML
    private MenuItem item22;
    @FXML
    private MenuItem item23;
    @FXML
    private MenuItem item24;
    @FXML
    private MenuItem item25;
    @FXML
    private MenuItem item26;
    @FXML
    private MenuItem item27;
    @FXML
    private MenuItem item28;
    @FXML
    private MenuItem item29;
    @FXML
    private MenuItem item30;
    @FXML
    private MenuItem item31;
    @FXML
    private MenuItem item32;
    @FXML
    private MenuItem item33;
    @FXML
    private MenuItem item34;
    @FXML
    private MenuItem item35;
    @FXML
    private MenuItem monstro1;
    @FXML
    private MenuItem monstro2;
    @FXML
    private MenuItem monstro3;
    @FXML
    private MenuItem monstro4;
    @FXML
    private MenuItem monstro5;
    @FXML
    private MenuItem monstro6;
    @FXML
    private MenuItem atkDireto;

    @FXML
    private SplitMenuButton s1;
    @FXML
    private SplitMenuButton s2;
    @FXML
    private SplitMenuButton s3;
    @FXML
    private SplitMenuButton s4;
    @FXML
    private SplitMenuButton s5;
    @FXML
    private SplitMenuButton s6;
    @FXML
    private SplitMenuButton s7;

    @FXML
    private GridPane g1;

    @FXML
    private Label pts1;
    @FXML
    private Label pts2;
    @FXML
    private Label vez1;
    @FXML
    private Label vez2;
    @FXML
    private Label qtdCartas;
    @FXML
    Label l1;
    @FXML
    private TextArea log;

    private boolean canAtack = true;
    private int contTurno = 0;

    public void receberStage(Stage s) {

    }

    public boolean verificarTérmino() {
        if (maquina.getPontosVida() <= 0) {
            return true;
        } else {
            return false;
        }
    }

    public void exibirBotões() {
        int i, j;
        for (i = 0; i < usuario.getMão().size(); i++) {
            Carta c = usuario.getMão().get(i);
            if (c.getTipo().equals("Magia")) {
                for (j = 0; j < mão.size(); j++) {
                    if (mão.get(j).getImage() == c.getFoto()) {
                        opções.get(j).getItems().get(0).setVisible(false);
                        opções.get(j).getItems().get(1).setVisible(false);
                        opções.get(j).getItems().get(2).setVisible(true);
                        opções.get(j).getItems().get(3).setVisible(true);
                        opções.get(j).getItems().get(4).setVisible(true);
                        break;
                    }
                }

            }
            if (c.getTipo().equals("Armadilha")) {
                for (j = 0; j < mão.size(); j++) {
                    if (mão.get(j).getImage() == c.getFoto()) {
                        opções.get(j).getItems().get(0).setVisible(false);
                        opções.get(j).getItems().get(1).setVisible(false);
                        opções.get(j).getItems().get(2).setVisible(true);
                        opções.get(j).getItems().get(3).setVisible(true);
                        opções.get(j).getItems().get(4).setVisible(false);
                        break;
                    }
                }
            }
            if (c.getTipo().equals("Monstro")) {
                for (j = 0; j < mão.size(); j++) {
                    if (mão.get(j).getImage() == c.getFoto()) {
                        opções.get(j).getItems().get(0).setVisible(true);
                        opções.get(j).getItems().get(1).setVisible(true);
                        opções.get(j).getItems().get(2).setVisible(true);
                        opções.get(j).getItems().get(3).setVisible(false);
                        opções.get(j).getItems().get(4).setVisible(false);
                        break;
                    }
                }
            }
        }
    }

    public boolean tributar(Carta c) throws IOException {
        FXMLLoader loader = new FXMLLoader();
        loader.setLocation(getClass().getResource("TelaSelecionar.fxml"));
        Parent p = loader.load();
        Scene scene = new Scene(p);
        Stage s = new Stage();
        s.setScene(scene);
        TelaSelecionarController t2 = loader.getController();
        t2.receberMonstros(usuario.getMonstrosCampo());
        t2.receberCarta(c);
        t2.receberStage(s);
        t2.receberJogador(usuario);
        s.showAndWait();
        ArrayList<Carta> sacrificios = t2.retornarSacrificios();
        if (sacrificios != null) {
            int i, j;
            for (i = 0; i < sacrificios.size(); i++) {
                for (j = 0; j < usuario.getMonstrosCampo().size(); j++) {
                    if (sacrificios.get(i).getFoto() == usuario.getMonstrosCampo().get(j).getFoto()) {
                        Carta k = usuario.getMonstrosCampo().remove(j);
                        usuario.addCartaNoCemitério(k);
                        cemitérioJogador.setImage(k.getFoto());
                        break;
                    }
                }
            }
            for (i = 0; i < campoMonstro1.size(); i++) {
                for (j = 0; j < sacrificios.size(); j++) {
                    if (campoMonstro1.get(i).getImage() == sacrificios.get(j).getFoto()) {
                        campoMonstro1.get(i).setImage(null);
                        campoMonstro1.get(i).setVisible(false);
                        break;
                    }
                }
            }
            for (i = 0; i < campoMonstro1.size(); i++) {
                if (campoMonstro1.get(i).isVisible() == false) {
                    campoMonstro1.get(i).setImage(c.getFoto());
                    campoMonstro1.get(i).setVisible(true);
                    campoMonstro1.get(i).rotateProperty().setValue(0);
                    campoMonstro1.get(i).getRotate();
                    break;
                }
            }
            for (i = 0; i < mão.size(); i++) {
                if (mão.get(i).getImage() == c.getFoto()) {
                    mão.get(i).setImage(null);
                    mão.get(i).setVisible(false);
                    opções.get(i).setVisible(false);
                }
            }
            numero = 1;
            log.appendText(usuario.getNome() + " sacrificou " + sacrificios.size() + " monstros");
            log.appendText("\n");
            log.appendText(usuario.getNome() + " invocou " + c.getNome());
            log.appendText("\n");
            return true;
        }
        return false;
    }

    @Override
    public void initialize(URL url, ResourceBundle rb) {

        maquina = new Jogador("Maquina");
        maquina.setBaralho(b1);
        Image j1 = new Image("/perfis/hemerald.jpg");
        maquina.setFotoPerfil(j1);
        perfil1.setImage(j1);
        pts1.setText(String.valueOf(maquina.getPontosVida()));
        usuario = new Jogador("Gabriel");
        usuario.setBaralho(b2);
        Image j2 = new Image("/perfis/magician_girl.jpg");
        usuario.setFotoPerfil(j2);
        perfil2.setImage(j2);
        pts2.setText(String.valueOf(usuario.getPontosVida()));

        Random gerador = new Random();
        Image i = new Image("/imagens/carta.jpg");
        campoMonstro1 = new ArrayList<>();
        campoMonstro2 = new ArrayList<>();
        opçõesMonstro = new ArrayList<>();
        campoMagia1 = new ArrayList<>();
        viradasBaixo = new ArrayList<>();
        viradasBaixo2 = new ArrayList<>();
        opções = new ArrayList<>();
        botões = new ArrayList<>();
        mão = new ArrayList<>();
        campoMonstro1.add(set1);
        campoMonstro1.add(set2);
        campoMonstro1.add(set3);
        campoMonstro1.add(set4);
        campoMonstro1.add(set5);
        campoMonstro1.add(set6);
        campoMonstro2.add(set7);
        campoMonstro2.add(set8);
        campoMonstro2.add(set9);
        campoMonstro2.add(set10);
        campoMonstro2.add(set11);
        campoMonstro2.add(set12);
        campoMagia1.add(set13);
        campoMagia1.add(set14);
        campoMagia1.add(set15);
        campoMagia1.add(set16);
        campoMagia1.add(set17);
        campoMagia1.add(set18);
        viradasBaixo.add(set19);
        viradasBaixo.add(set20);
        viradasBaixo.add(set21);
        viradasBaixo.add(set22);
        viradasBaixo.add(set23);
        viradasBaixo.add(set24);
        viradasBaixo2.add(set25);
        viradasBaixo2.add(set26);
        viradasBaixo2.add(set27);
        viradasBaixo2.add(set28);
        viradasBaixo2.add(set29);
        viradasBaixo2.add(set30);
        opções.add(s1);
        opções.add(s2);
        opções.add(s3);
        opções.add(s4);
        opções.add(s5);
        opções.add(s6);
        opções.add(s7);
        opçõesMonstro.add(monstro1);
        opçõesMonstro.add(monstro2);
        opçõesMonstro.add(monstro3);
        opçõesMonstro.add(monstro4);
        opçõesMonstro.add(monstro5);
        opçõesMonstro.add(monstro6);
        opçõesMonstro.add(atkDireto);
        foto1.setImage(i);
        int n;
        mão.add(carta1);
        mão.add(carta2);
        mão.add(carta3);
        mão.add(carta4);
        mão.add(carta5);
        mão.add(carta6);
        mão.add(carta7);

        ArrayList<Integer> k = new ArrayList<>();
        for (n = 0; n < 6; n++) {
            usuario.comprarCarta();
        }

        carta7.setVisible(false);
        set1.setVisible(false);
        set2.setVisible(false);
        set3.setVisible(false);
        set4.setVisible(false);
        set5.setVisible(false);
        set6.setVisible(false);
        set7.setVisible(false);
        set8.setVisible(false);
        set9.setVisible(false);
        set10.setVisible(false);
        set11.setVisible(false);
        set12.setVisible(false);
        set13.setVisible(false);
        set14.setVisible(false);
        set15.setVisible(false);
        set16.setVisible(false);
        set17.setVisible(false);
        set18.setVisible(false);
        set19.setVisible(false);
        set20.setVisible(false);
        set21.setVisible(false);
        set22.setVisible(false);
        set23.setVisible(false);
        set24.setVisible(false);
        set25.setVisible(false);
        set26.setVisible(false);
        set27.setVisible(false);
        set28.setVisible(false);
        set29.setVisible(false);
        set30.setVisible(false);
        s7.setVisible(false);
        g1.setGridLinesVisible(true);
        bot1.setVisible(false);
        bot2.setVisible(false);
        bot3.setVisible(false);
        bot5.setVisible(false);
        vez1.setVisible(false);
        l1.setVisible(false);
        monstro1.setVisible(false);
        monstro2.setVisible(false);
        monstro3.setVisible(false);
        monstro4.setVisible(false);
        monstro5.setVisible(false);
        monstro6.setVisible(false);
        atkDireto.setVisible(false);
        qtdCartas.setText(String.valueOf(usuario.getQtdCartas()));

        maquina.gerarMãoInicial();
        Audio a = new Audio();
        //a.addSong("/audio_yugioh/girei.mp3");
        a.addSong("/audio_yugioh/kaguya_song.mp3");
        a.playSong();
        //String musica = "/audio_yugioh/akatusiki_ritual.mp3";
        //String uri = new File(musica).toURI().toString();
        //MediaPlayer player = new MediaPlayer(new Media(uri));
        //player.play();
        exibirBotões();
        atualizarCampo();
        efeitos = new Efeitos(usuario, maquina);
        efeitosMonstros = new EfeitosMonstros(usuario, maquina);
        passivas = new Passivas(usuario, maquina);
        passivasAtaque = new PassivasAtaque(usuario, maquina);
        armadilhas = new Armadilhas(usuario, maquina);
        log.setWrapText(true);

    }

    public void clicar1(ActionEvent event) throws IOException {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        if (numero == 0) {
            String resp = usuario.getBaralho().retornarTipo(carta1.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta1.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                numero = 1;
                                campoMonstro1.get(i).setImage(carta1.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                if (campoMonstro1.get(i).rotateProperty().getValue() == 90) {
                                    campoMonstro1.get(i).rotateProperty().setValue(0);
                                    campoMonstro1.get(i).getRotate();
                                }
                                carta1.setVisible(false);
                                s1.setVisible(false);
                                c.setModo("Ataque");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                atualizarCampo();
                                if (armadilhas.ativarArmadilha(c) == false) {
                                    log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                    log.appendText("\n");
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    break;
                                } else {
                                    usuario = armadilhas.getMaquina();
                                    maquina = armadilhas.getJogador();
                                    atualizarCampo();
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                    break;
                                }
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Ataque");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (armadilhas.ativarArmadilha(c) == false) {
                                        if (passivas.getTexto().length() >= 1) {
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                        }
                                        passivas.continuas();
                                        break;
                                    } else {
                                        usuario = armadilhas.getMaquina();
                                        maquina = armadilhas.getJogador();
                                        atualizarCampo();
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                } else {
                                    break;
                                }
                            }
                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar2(ActionEvent event) throws IOException {
        if (numero == 0) {
            numero = 1;
            String resp = usuario.getBaralho().retornarTipo(carta1.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta1.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                campoMonstro1.get(i).setImage(carta1.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                campoMonstro1.get(i).rotateProperty().set(90);
                                campoMonstro1.get(i).getRotate();
                                carta1.setVisible(false);
                                s1.setVisible(false);
                                c.setModo("Defesa");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                log.appendText("\n");
                                if (passivas.getTexto().length() >= 1) {
                                    log.appendText(passivas.getTexto());
                                    log.appendText("\n");
                                }
                                passivas.continuas();
                                break;
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Defesa");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    campoMonstro1.get(i).rotateProperty().set(90);
                                    campoMonstro1.get(i).getRotate();
                                    break;
                                } else {
                                    break;
                                }
                            }

                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar3(ActionEvent event) {
        try {
            Carta m = usuario.getBaralho().retornarCarta(carta1.getImage());
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            String resp = usuario.getBaralho().retornarTipo(carta1.getImage());
            switch (resp) {
                case "Monstro":
                    t2.receberMonstro(m);
                    s.show();
                    break;

                case "Magia":
                    t2.receberMagia(m);
                    s.show();
                    break;

                case "Armadilha":
                    t2.receberArmadilha(m);
                    s.show();
                    break;

            }
        } catch (IOException ex) {
            Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void clicar4(ActionEvent event) throws IOException {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        if (numero == 0) {
            String resp = usuario.getBaralho().retornarTipo(carta2.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta2.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                numero = 1;
                                campoMonstro1.get(i).setImage(carta2.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                if (campoMonstro1.get(i).rotateProperty().getValue() == 90) {
                                    campoMonstro1.get(i).rotateProperty().setValue(0);
                                    campoMonstro1.get(i).getRotate();
                                }
                                carta2.setVisible(false);
                                s2.setVisible(false);
                                c.setModo("Ataque");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                atualizarCampo();
                                if (armadilhas.ativarArmadilha(c) == false) {
                                    log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                    log.appendText("\n");
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    break;
                                } else {
                                    usuario = armadilhas.getMaquina();
                                    maquina = armadilhas.getJogador();
                                    atualizarCampo();
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                    break;
                                }
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Ataque");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (armadilhas.ativarArmadilha(c) == false) {
                                        if (passivas.getTexto().length() >= 1) {
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                        }
                                        passivas.continuas();
                                        break;
                                    } else {
                                        usuario = armadilhas.getMaquina();
                                        maquina = armadilhas.getJogador();
                                        atualizarCampo();
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                } else {
                                    break;
                                }
                            }
                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar5(ActionEvent event) throws IOException {
        if (numero == 0) {
            numero = 1;
            String resp = usuario.getBaralho().retornarTipo(carta2.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta2.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                campoMonstro1.get(i).setImage(carta2.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                campoMonstro1.get(i).rotateProperty().set(90);
                                campoMonstro1.get(i).getRotate();
                                carta2.setVisible(false);
                                s2.setVisible(false);
                                c.setModo("Defesa");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                log.appendText("\n");
                                if (passivas.getTexto().length() >= 1) {
                                    log.appendText(passivas.getTexto());
                                    log.appendText("\n");
                                }
                                passivas.continuas();
                                break;
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Defesa");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    campoMonstro1.get(i).rotateProperty().set(90);
                                    campoMonstro1.get(i).getRotate();
                                    break;
                                } else {
                                    break;
                                }
                            }

                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar6(ActionEvent event) {
        try {
            Carta m = usuario.getBaralho().retornarCarta(carta2.getImage());
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            String resp = usuario.getBaralho().retornarTipo(carta2.getImage());
            switch (resp) {
                case "Monstro":
                    t2.receberMonstro(m);
                    s.show();
                    break;

                case "Magia":
                    t2.receberMagia(m);
                    s.show();
                    break;

                case "Armadilha":
                    t2.receberArmadilha(m);
                    s.show();
                    break;

            }
        } catch (IOException ex) {
            Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void clicar7(ActionEvent event) throws IOException {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        if (numero == 0) {
            String resp = usuario.getBaralho().retornarTipo(carta3.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta3.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                numero = 1;
                                campoMonstro1.get(i).setImage(carta3.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                if (campoMonstro1.get(i).rotateProperty().getValue() == 90) {
                                    campoMonstro1.get(i).rotateProperty().setValue(0);
                                    campoMonstro1.get(i).getRotate();
                                }
                                carta3.setVisible(false);
                                s3.setVisible(false);
                                c.setModo("Ataque");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                atualizarCampo();
                                if (armadilhas.ativarArmadilha(c) == false) {
                                    log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                    log.appendText("\n");
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    break;
                                } else {
                                    usuario = armadilhas.getMaquina();
                                    maquina = armadilhas.getJogador();
                                    atualizarCampo();
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                    break;
                                }
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Ataque");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (armadilhas.ativarArmadilha(c) == false) {
                                        if (passivas.getTexto().length() >= 1) {
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                        }
                                        passivas.continuas();
                                        break;
                                    } else {
                                        usuario = armadilhas.getMaquina();
                                        maquina = armadilhas.getJogador();
                                        atualizarCampo();
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                } else {
                                    break;
                                }
                            }
                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar8(ActionEvent event) throws IOException {
        if (numero == 0) {
            numero = 1;
            String resp = usuario.getBaralho().retornarTipo(carta3.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta3.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                campoMonstro1.get(i).setImage(carta3.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                campoMonstro1.get(i).rotateProperty().set(90);
                                campoMonstro1.get(i).getRotate();
                                carta3.setVisible(false);
                                s3.setVisible(false);
                                c.setModo("Defesa");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                log.appendText("\n");
                                if (passivas.getTexto().length() >= 1) {
                                    log.appendText(passivas.getTexto());
                                    log.appendText("\n");
                                }
                                passivas.continuas();
                                break;
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Defesa");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    campoMonstro1.get(i).rotateProperty().set(90);
                                    campoMonstro1.get(i).getRotate();
                                    break;
                                } else {
                                    break;
                                }
                            }

                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar9(ActionEvent event) {
        try {
            Carta m = usuario.getBaralho().retornarCarta(carta3.getImage());
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            String resp = usuario.getBaralho().retornarTipo(carta3.getImage());
            switch (resp) {
                case "Monstro":
                    t2.receberMonstro(m);
                    s.show();
                    break;

                case "Magia":
                    t2.receberMagia(m);
                    s.show();
                    break;

                case "Armadilha":
                    t2.receberArmadilha(m);
                    s.show();
                    break;

            }
        } catch (IOException ex) {
            Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void clicar10(ActionEvent event) throws IOException {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        if (numero == 0) {
            String resp = usuario.getBaralho().retornarTipo(carta4.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta4.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                numero = 1;
                                campoMonstro1.get(i).setImage(carta4.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                if (campoMonstro1.get(i).rotateProperty().getValue() == 90) {
                                    campoMonstro1.get(i).rotateProperty().setValue(0);
                                    campoMonstro1.get(i).getRotate();
                                }
                                carta4.setVisible(false);
                                s4.setVisible(false);
                                c.setModo("Ataque");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                atualizarCampo();
                                if (armadilhas.ativarArmadilha(c) == false) {
                                    log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                    log.appendText("\n");
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    break;
                                } else {
                                    usuario = armadilhas.getMaquina();
                                    maquina = armadilhas.getJogador();
                                    atualizarCampo();
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                    break;
                                }
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Ataque");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (armadilhas.ativarArmadilha(c) == false) {
                                        if (passivas.getTexto().length() >= 1) {
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                        }
                                        passivas.continuas();
                                        break;
                                    } else {
                                        usuario = armadilhas.getMaquina();
                                        maquina = armadilhas.getJogador();
                                        atualizarCampo();
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                } else {
                                    break;
                                }
                            }
                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar11(ActionEvent event) throws IOException {
        if (numero == 0) {
            numero = 1;
            String resp = usuario.getBaralho().retornarTipo(carta4.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta4.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                campoMonstro1.get(i).setImage(carta4.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                campoMonstro1.get(i).rotateProperty().set(90);
                                campoMonstro1.get(i).getRotate();
                                carta4.setVisible(false);
                                s4.setVisible(false);
                                c.setModo("Defesa");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                log.appendText("\n");
                                if (passivas.getTexto().length() >= 1) {
                                    log.appendText(passivas.getTexto());
                                    log.appendText("\n");
                                }
                                passivas.continuas();
                                break;
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Defesa");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    campoMonstro1.get(i).rotateProperty().set(90);
                                    campoMonstro1.get(i).getRotate();
                                    break;
                                } else {
                                    break;
                                }
                            }

                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar12(ActionEvent event) {
        try {
            Carta m = usuario.getBaralho().retornarCarta(carta4.getImage());
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            String resp = usuario.getBaralho().retornarTipo(carta4.getImage());
            switch (resp) {
                case "Monstro":
                    t2.receberMonstro(m);
                    s.show();
                    break;

                case "Magia":
                    t2.receberMagia(m);
                    s.show();
                    break;

                case "Armadilha":
                    t2.receberArmadilha(m);
                    s.show();
                    break;

            }
        } catch (IOException ex) {
            Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void clicar13(ActionEvent event) throws IOException {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        if (numero == 0) {
            String resp = usuario.getBaralho().retornarTipo(carta5.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta5.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                numero = 1;
                                campoMonstro1.get(i).setImage(carta5.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                if (campoMonstro1.get(i).rotateProperty().getValue() == 90) {
                                    campoMonstro1.get(i).rotateProperty().setValue(0);
                                    campoMonstro1.get(i).getRotate();
                                }
                                carta5.setVisible(false);
                                s5.setVisible(false);
                                c.setModo("Ataque");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                atualizarCampo();
                                if (armadilhas.ativarArmadilha(c) == false) {
                                    log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                    log.appendText("\n");
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    break;
                                } else {
                                    usuario = armadilhas.getMaquina();
                                    maquina = armadilhas.getJogador();
                                    atualizarCampo();
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                    break;
                                }
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Ataque");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (armadilhas.ativarArmadilha(c) == false) {
                                        if (passivas.getTexto().length() >= 1) {
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                        }
                                        passivas.continuas();
                                        break;
                                    } else {
                                        usuario = armadilhas.getMaquina();
                                        maquina = armadilhas.getJogador();
                                        atualizarCampo();
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                } else {
                                    break;
                                }
                            }
                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar14(ActionEvent event) throws IOException {
        if (numero == 0) {
            numero = 1;
            String resp = usuario.getBaralho().retornarTipo(carta5.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta5.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                campoMonstro1.get(i).setImage(carta5.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                campoMonstro1.get(i).rotateProperty().set(90);
                                campoMonstro1.get(i).getRotate();
                                carta5.setVisible(false);
                                s5.setVisible(false);
                                c.setModo("Defesa");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                log.appendText("\n");
                                if (passivas.getTexto().length() >= 1) {
                                    log.appendText(passivas.getTexto());
                                    log.appendText("\n");
                                }
                                passivas.continuas();
                                break;
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Defesa");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    campoMonstro1.get(i).rotateProperty().set(90);
                                    campoMonstro1.get(i).getRotate();
                                    break;
                                } else {
                                    break;
                                }
                            }

                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar15(ActionEvent event) {
        try {
            Carta m = usuario.getBaralho().retornarCarta(carta5.getImage());
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            String resp = usuario.getBaralho().retornarTipo(carta5.getImage());
            switch (resp) {
                case "Monstro":
                    t2.receberMonstro(m);
                    s.show();
                    break;

                case "Magia":
                    t2.receberMagia(m);
                    s.show();
                    break;

                case "Armadilha":
                    t2.receberArmadilha(m);
                    s.show();
                    break;

            }
        } catch (IOException ex) {
            Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void clicar16(ActionEvent event) throws IOException {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        if (numero == 0) {
            String resp = usuario.getBaralho().retornarTipo(carta6.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta6.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                numero = 1;
                                campoMonstro1.get(i).setImage(carta6.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                if (campoMonstro1.get(i).rotateProperty().getValue() == 90) {
                                    campoMonstro1.get(i).rotateProperty().setValue(0);
                                    campoMonstro1.get(i).getRotate();
                                }
                                carta6.setVisible(false);
                                s6.setVisible(false);
                                c.setModo("Ataque");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                atualizarCampo();
                                if (armadilhas.ativarArmadilha(c) == false) {
                                    log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                    log.appendText("\n");
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    break;
                                } else {
                                    usuario = armadilhas.getMaquina();
                                    maquina = armadilhas.getJogador();
                                    atualizarCampo();
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                    break;
                                }
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Ataque");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (armadilhas.ativarArmadilha(c) == false) {
                                        if (passivas.getTexto().length() >= 1) {
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                        }
                                        passivas.continuas();
                                        break;
                                    } else {
                                        usuario = armadilhas.getMaquina();
                                        maquina = armadilhas.getJogador();
                                        atualizarCampo();
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                } else {
                                    break;
                                }
                            }
                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar17(ActionEvent event) throws IOException {
        if (numero == 0) {
            numero = 1;
            String resp = usuario.getBaralho().retornarTipo(carta6.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta6.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                campoMonstro1.get(i).setImage(carta6.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                campoMonstro1.get(i).rotateProperty().set(90);
                                campoMonstro1.get(i).getRotate();
                                carta6.setVisible(false);
                                s6.setVisible(false);
                                c.setModo("Defesa");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                log.appendText("\n");
                                if (passivas.getTexto().length() >= 1) {
                                    log.appendText(passivas.getTexto());
                                    log.appendText("\n");
                                }
                                passivas.continuas();
                                break;
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Defesa");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    campoMonstro1.get(i).rotateProperty().set(90);
                                    campoMonstro1.get(i).getRotate();
                                    break;
                                } else {
                                    break;
                                }
                            }

                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar18(ActionEvent event) {
        try {
            Carta m = usuario.getBaralho().retornarCarta(carta6.getImage());
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            String resp = usuario.getBaralho().retornarTipo(carta6.getImage());
            switch (resp) {
                case "Monstro":
                    t2.receberMonstro(m);
                    s.show();
                    break;

                case "Magia":
                    t2.receberMagia(m);
                    s.show();
                    break;

                case "Armadilha":
                    t2.receberArmadilha(m);
                    s.show();
                    break;

            }
        } catch (IOException ex) {
            Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void clicar19(ActionEvent event) throws IOException {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        if (numero == 0) {
            String resp = usuario.getBaralho().retornarTipo(carta7.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta7.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                numero = 1;
                                campoMonstro1.get(i).setImage(carta7.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                if (campoMonstro1.get(i).rotateProperty().getValue() == 90) {
                                    campoMonstro1.get(i).rotateProperty().setValue(0);
                                    campoMonstro1.get(i).getRotate();
                                }
                                carta7.setVisible(false);
                                s7.setVisible(false);
                                c.setModo("Ataque");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                atualizarCampo();
                                if (armadilhas.ativarArmadilha(c) == false) {
                                    log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                    log.appendText("\n");
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    break;
                                } else {
                                    usuario = armadilhas.getMaquina();
                                    maquina = armadilhas.getJogador();
                                    atualizarCampo();
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                    break;
                                }
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Ataque");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (armadilhas.ativarArmadilha(c) == false) {
                                        if (passivas.getTexto().length() >= 1) {
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                        }
                                        passivas.continuas();
                                        break;
                                    } else {
                                        usuario = armadilhas.getMaquina();
                                        maquina = armadilhas.getJogador();
                                        atualizarCampo();
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                } else {
                                    break;
                                }
                            }
                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar20(ActionEvent event) throws IOException {
        if (numero == 0) {
            numero = 1;
            String resp = usuario.getBaralho().retornarTipo(carta7.getImage());
            Carta c = usuario.getBaralho().retornarCarta(carta7.getImage());
            switch (resp) {
                case "Monstro":
                    int i;
                    for (i = 0; i < 6; i++) {
                        if (campoMonstro1.get(i).isVisible() == false) {
                            if (c.getNível() <= 4) {
                                campoMonstro1.get(i).setImage(carta7.getImage());
                                campoMonstro1.get(i).setVisible(true);
                                campoMonstro1.get(i).rotateProperty().set(90);
                                campoMonstro1.get(i).getRotate();
                                carta7.setVisible(false);
                                s7.setVisible(false);
                                c.setModo("Defesa");
                                passivas.ativarEfeito(c);
                                c = passivas.getRetorno();
                                usuario.adicionarMonstroNoCampo(c);
                                log.appendText(usuario.getNome() + " invocou " + c.getNome());
                                log.appendText("\n");
                                if (passivas.getTexto().length() >= 1) {
                                    log.appendText(passivas.getTexto());
                                    log.appendText("\n");
                                }
                                passivas.continuas();
                                break;
                            } else {
                                if (tributar(c) == true) {
                                    c.setModo("Defesa");
                                    passivas.ativarEfeito(c);
                                    c = passivas.getRetorno();
                                    usuario.adicionarMonstroNoCampo(c);
                                    if (passivas.getTexto().length() >= 1) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    passivas.continuas();
                                    campoMonstro1.get(i).rotateProperty().set(90);
                                    campoMonstro1.get(i).getRotate();
                                    break;
                                } else {
                                    break;
                                }
                            }

                        }
                    }
                    break;

                case "Magia":

                case "Armadilha":
            }
        }

    }

    public void clicar21(ActionEvent event) {
        try {
            Carta m = usuario.getBaralho().retornarCarta(carta7.getImage());
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            String resp = usuario.getBaralho().retornarTipo(carta7.getImage());
            switch (resp) {
                case "Monstro":
                    t2.receberMonstro(m);
                    s.show();
                    break;

                case "Magia":
                    t2.receberMagia(m);
                    s.show();
                    break;

                case "Armadilha":
                    t2.receberArmadilha(m);
                    s.show();
                    break;

            }
        } catch (IOException ex) {
            Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void atualizarCampo() {
        int i, j;
        for (i = 0; i < campoMonstro1.size(); i++) {
            campoMonstro1.get(i).setVisible(false);
            campoMonstro1.get(i).rotateProperty().setValue(0);
            campoMonstro1.get(i).getRotate();
        }
        for (i = 0; i < campoMagia1.size(); i++) {
            campoMagia1.get(i).setVisible(false);
        }
        for (i = 0; i < viradasBaixo.size(); i++) {
            //viradasBaixo.get(i).setVisible(false);
        }
        for (i = 0; i < mão.size(); i++) {
            mão.get(i).setVisible(false);
            opções.get(i).setVisible(false);
        }
        for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
            for (j = 0; j < campoMonstro1.size(); j++) {
                if (campoMonstro1.get(j).isVisible() == false) {
                    campoMonstro1.get(j).setImage(usuario.getMonstrosCampo().get(i).getFoto());
                    if (usuario.getMonstrosCampo().get(i).getModo().equals("Defesa")) {
                        campoMonstro1.get(i).rotateProperty().setValue(90);
                        campoMonstro1.get(i).getRotate();
                    }
                    campoMonstro1.get(j).setVisible(true);
                    break;
                }
            }
        }
        for (i = 0; i < usuario.getMão().size(); i++) {
            for (j = 0; j < mão.size(); j++) {
                if (mão.get(j).isVisible() == false) {
                    mão.get(j).setImage(usuario.getMão().get(i).getFoto());
                    mão.get(j).setVisible(true);
                    opções.get(j).setVisible(true);
                    break;
                }
            }
        }

        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (!"".equals(usuario.getMagiasCampo().get(i).getCartaEquip())) {
                String nomeMonstro = usuario.getMagiasCampo().get(i).getCartaEquip();
                if (usuario.verificarMonstro(nomeMonstro) == false) {
                    usuario.getMagiasCampo().get(i).setCartaEquip("");
                    usuario.addCartaNoCemitério(usuario.getMagiasCampo().get(i));
                    usuario.getMagiasCampo().get(i).setNome("");
                    break;
                }
            }
        }
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                campoMagia1.get(i).setVisible(false);
                viradasBaixo.get(i).setVisible(false);
            } else {
                if (usuario.getMagiasCampo().get(i).isAtivada()) {
                    campoMagia1.get(i).setImage(usuario.getMagiasCampo().get(i).getFoto());
                    campoMagia1.get(i).setVisible(true);
                    viradasBaixo.get(i).setVisible(false);
                } else {
                    campoMagia1.get(i).setImage(usuario.getMagiasCampo().get(i).getFoto());
                    campoMagia1.get(i).setVisible(false);
                    Image x = new Image("/imagens/carta.jpg");
                    viradasBaixo.get(i).setImage(x);
                    viradasBaixo.get(i).setVisible(true);
                }
            }
        }

        if (usuario.getCemitério().size() > 0) {
            int k = usuario.getCemitério().size() - 1;
            cemitérioJogador.setImage(usuario.getCemitério().get(k).getFoto());
        }

        for (Carta c : usuario.getCemitério()) {
            c.setCartaEquip("");
        }

        Platform.runLater(new Runnable() {
            @Override
            public void run() {
                pts2.setText(String.valueOf(usuario.getPontosVida()));
            }
        });

        for (i = 0; i < campoMonstro2.size(); i++) {
            campoMonstro2.get(i).setVisible(false);
            campoMonstro2.get(i).rotateProperty().setValue(180);
            campoMonstro2.get(i).getRotate();
        }
        for (i = 0; i < maquina.getMonstrosCampo().size(); i++) {
            for (j = 0; j < campoMonstro2.size(); j++) {
                if (campoMonstro2.get(j).isVisible() == false) {
                    campoMonstro2.get(j).setImage(maquina.getMonstrosCampo().get(i).getFoto());
                    if (maquina.getMonstrosCampo().get(i).getModo().equals("Defesa")) {
                        campoMonstro2.get(j).rotateProperty().setValue(270);
                        campoMonstro2.get(j).getRotate();
                    }
                    campoMonstro2.get(j).setVisible(true);
                    break;
                }
            }
        }
        for (i = 0; i < viradasBaixo2.size(); i++) {
            viradasBaixo2.get(i).setVisible(false);
        }
        for (i = 0; i < maquina.getMagiasCampo().size(); i++) {
            if (!maquina.getMagiasCampo().get(i).getNome().equals("")) {
                Image x = new Image("/imagens/carta.jpg");
                viradasBaixo2.get(i).setImage(x);
                viradasBaixo2.get(i).rotateProperty().setValue(180);
                viradasBaixo2.get(i).getRotate();
                viradasBaixo2.get(i).setVisible(true);
            }
        }
        if (maquina.getCemitério().size() > 0) {
            int k1 = maquina.getCemitério().size() - 1;
            cemitérioMáquina.setImage(maquina.getCemitério().get(k1).getFoto());
        } else {
            cemitérioMáquina.setImage(null);
        }

        for (Carta c : maquina.getCemitério()) {
            c.setCartaEquip("");
        }
        Platform.runLater(new Runnable() {
            @Override
            public void run() {
                pts1.setText(String.valueOf(maquina.getPontosVida()));
            }
        });
        exibirBotões();
        qtdCartas.setText(String.valueOf(usuario.getQtdCartas()));
    }

    public void clicar22(ActionEvent event) throws IOException, InterruptedException {
        Carta c = usuario.getBaralho().retornarCarta(carta1.getImage());
        efeitos.ativarEfeito(c);
        usuario = efeitos.getJogador();
        maquina = efeitos.getMaquina();
        passivas.continuas();
        atualizarCampo();
        log.appendText(efeitos.getTexto());
        log.appendText("\n");
    }

    public void clicar23(ActionEvent event) throws IOException, InterruptedException {
        Carta c = usuario.getBaralho().retornarCarta(carta2.getImage());
        efeitos.ativarEfeito(c);
        usuario = efeitos.getJogador();
        maquina = efeitos.getMaquina();
        passivas.continuas();
        atualizarCampo();
        log.appendText(efeitos.getTexto());
        log.appendText("\n");
    }

    public void clicar24(ActionEvent event) throws IOException, InterruptedException {
        Carta c = usuario.getBaralho().retornarCarta(carta3.getImage());
        efeitos.ativarEfeito(c);
        usuario = efeitos.getJogador();
        maquina = efeitos.getMaquina();
        passivas.continuas();
        atualizarCampo();
        log.appendText(efeitos.getTexto());
        log.appendText("\n");
    }

    public void clicar25(ActionEvent event) throws IOException, InterruptedException {
        Carta c = usuario.getBaralho().retornarCarta(carta4.getImage());
        efeitos.ativarEfeito(c);
        usuario = efeitos.getJogador();
        maquina = efeitos.getMaquina();
        passivas.continuas();
        atualizarCampo();
        log.appendText(efeitos.getTexto());
        log.appendText("\n");
    }

    public void clicar26(ActionEvent event) throws IOException, InterruptedException {
        Carta c = usuario.getBaralho().retornarCarta(carta5.getImage());
        efeitos.ativarEfeito(c);
        usuario = efeitos.getJogador();
        maquina = efeitos.getMaquina();
        passivas.continuas();
        atualizarCampo();
        log.appendText(efeitos.getTexto());
        log.appendText("\n");
    }

    public void clicar27(ActionEvent event) throws IOException, InterruptedException {
        Carta c = usuario.getBaralho().retornarCarta(carta6.getImage());
        efeitos.ativarEfeito(c);
        usuario = efeitos.getJogador();
        maquina = efeitos.getMaquina();
        passivas.continuas();
        atualizarCampo();
        log.appendText(efeitos.getTexto());
        log.appendText("\n");
    }

    public void clicar28(ActionEvent event) throws IOException, InterruptedException {
        Carta c = usuario.getBaralho().retornarCarta(carta7.getImage());
        efeitos.ativarEfeito(c);
        usuario = efeitos.getJogador();
        maquina = efeitos.getMaquina();
        passivas.continuas();
        atualizarCampo();
        log.appendText(efeitos.getTexto());
        log.appendText("\n");
    }

    public void setar1(ActionEvent event) {
        int i;
        int k = -1;
        Carta c = usuario.getBaralho().retornarCarta(carta1.getImage());
        usuario.getMão().remove(c);
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                usuario.getMagiasCampo().set(i, c);
                k = i;
                break;
            }
        }
        if (k != -1) {
            Image im = new Image("/imagens/carta.jpg");
            viradasBaixo.get(k).setImage(im);
            viradasBaixo.get(k).setVisible(true);
        }
        passivas.continuas();
        atualizarCampo();
    }

    public void setar2(ActionEvent event) {
        int i;
        int k = -1;
        Carta c = usuario.getBaralho().retornarCarta(carta2.getImage());
        usuario.getMão().remove(c);
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                usuario.getMagiasCampo().set(i, c);
                k = i;
                break;
            }
        }
        if (k != -1) {
            Image im = new Image("/imagens/carta.jpg");
            viradasBaixo.get(k).setImage(im);
            viradasBaixo.get(k).setVisible(true);
        }
        passivas.continuas();
        atualizarCampo();
    }

    public void setar3(ActionEvent event) {
        int i;
        int k = -1;
        Carta c = usuario.getBaralho().retornarCarta(carta3.getImage());
        usuario.getMão().remove(c);
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                usuario.getMagiasCampo().set(i, c);
                k = i;
                break;
            }
        }
        if (k != -1) {
            Image im = new Image("/imagens/carta.jpg");
            viradasBaixo.get(k).setImage(im);
            viradasBaixo.get(k).setVisible(true);
        }
        passivas.continuas();
        atualizarCampo();
    }

    public void setar4(ActionEvent event) {
        int i;
        int k = -1;
        Carta c = usuario.getBaralho().retornarCarta(carta4.getImage());
        usuario.getMão().remove(c);
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                usuario.getMagiasCampo().set(i, c);
                k = i;
                break;
            }
        }
        if (k != -1) {
            Image im = new Image("/imagens/carta.jpg");
            viradasBaixo.get(k).setImage(im);
            viradasBaixo.get(k).setVisible(true);
        }
        passivas.continuas();
        atualizarCampo();

    }

    public void setar5(ActionEvent event) {
        int i;
        int k = -1;
        Carta c = usuario.getBaralho().retornarCarta(carta5.getImage());
        usuario.getMão().remove(c);
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                usuario.getMagiasCampo().set(i, c);
                k = i;
                break;
            }
        }
        if (k != -1) {
            Image im = new Image("/imagens/carta.jpg");
            viradasBaixo.get(k).setImage(im);
            viradasBaixo.get(k).setVisible(true);
        }
        passivas.continuas();
        atualizarCampo();

    }

    public void setar6(ActionEvent event) {
        int i;
        int k = -1;
        Carta c = usuario.getBaralho().retornarCarta(carta6.getImage());
        usuario.getMão().remove(c);
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                usuario.getMagiasCampo().set(i, c);
                k = i;
                break;
            }
        }
        if (k != -1) {
            Image im = new Image("/imagens/carta.jpg");
            viradasBaixo.get(k).setImage(im);
            viradasBaixo.get(k).setVisible(true);
        }
        passivas.continuas();
        atualizarCampo();
    }

    public void setar7(ActionEvent event) {
        int i;
        int k = -1;
        Carta c = usuario.getBaralho().retornarCarta(carta7.getImage());
        usuario.getMão().remove(c);
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("")) {
                usuario.getMagiasCampo().set(i, c);
                k = i;
                break;
            }
        }
        if (k != -1) {
            Image im = new Image("/imagens/carta.jpg");
            viradasBaixo.get(k).setImage(im);
            viradasBaixo.get(k).setVisible(true);
        }
        passivas.continuas();
        atualizarCampo();
    }

    public void campo(MouseEvent event) {
        int i;
        for (i = 0; i < opçõesMonstro.size(); i++) {
            opçõesMonstro.get(i).setVisible(false);
        }
        if (bot3.isVisible()) {
            bot1.setVisible(false);
            bot2.setVisible(false);
            bot3.setVisible(false);
            bot5.setVisible(false);
        } else {
            for (i = 0; i < campoMonstro1.size(); i++) {
                if (campoMonstro1.get(i).isPressed()) {
                    String tipo = usuario.getBaralho().retornarTipo(campoMonstro1.get(i).getImage());
                    if (tipo.equals("Monstro")) {
                        m = usuario.getBaralho().retornarCarta(campoMonstro1.get(i).getImage());
                        int x = usuario.getMonstrosCampo().indexOf(m);
                        if (usuario.getMonstrosCampo().get(x).isAtacou() == false) {
                            bot1.setVisible(true);
                            bot2.setVisible(true);
                        }
                        bot3.setVisible(true);
                        if (!m.getEfeito().equals("")) {
                            bot5.setVisible(true);
                        }
                    }
                }
            }
            for (i = 0; i < maquina.getMonstrosCampo().size(); i++) {
                opçõesMonstro.get(i).setText(maquina.getMonstrosCampo().get(i).getNome());
                opçõesMonstro.get(i).setVisible(true);
            }
            atkDireto.setVisible(false);
            if (maquina.getMonstrosCampo().isEmpty() && turno > 1) {
                atkDireto.setVisible(true);
            }
            for (i = 0; i < viradasBaixo.size(); i++) {
                if (viradasBaixo.get(i).isPressed()) {
                    String tipo = usuario.getBaralho().retornarTipo(campoMagia1.get(i).getImage());
                    if (tipo.equals("Magia")) {
                        m = usuario.getBaralho().retornarCarta(campoMagia1.get(i).getImage());
                        bot3.setVisible(true);
                        bot5.setVisible(true);
                    }
                    if (tipo.equals("Armadilha")) {
                        m = usuario.getBaralho().retornarCarta(campoMagia1.get(i).getImage());
                        bot3.setVisible(true);
                    }
                }
            }
            for (i = 0; i < campoMagia1.size(); i++) {
                if (campoMagia1.get(i).isPressed()) {
                    String tipo = usuario.getBaralho().retornarTipo(campoMagia1.get(i).getImage());
                    if (tipo.equals("Magia")) {
                        m = usuario.getBaralho().retornarCarta(campoMagia1.get(i).getImage());
                        bot3.setVisible(true);
                    }
                    if (tipo.equals("Armadilha")) {
                        m = usuario.getBaralho().retornarCarta(campoMagia1.get(i).getImage());
                        bot3.setVisible(true);
                    }
                }
            }

        }

    }

    public void verCarta(ActionEvent event) throws IOException {
        if (m != null) {
            FXMLLoader loader = new FXMLLoader();
            loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
            Parent p = loader.load();
            Scene scene = new Scene(p);
            Stage s = new Stage();
            s.setScene(scene);
            TelaVisualizaçãoController t2 = loader.getController();
            t2.receberMonstro(m);
            s.show();
        }
    }

    public void mudarPosição(ActionEvent event) {
        int i, j;
        for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
            if (usuario.getMonstrosCampo().get(i) == m) {
                if (usuario.getMonstrosCampo().get(i).getModo().equals("Ataque")) {
                    usuario.getMonstrosCampo().get(i).setModo("Defesa");
                    for (j = 0; j < campoMonstro1.size(); j++) {
                        if (campoMonstro1.get(j).getImage() == m.getFoto()) {
                            campoMonstro1.get(j).rotateProperty().set(90);
                            campoMonstro1.get(j).getRotate();
                        }
                    }
                } else {
                    usuario.getMonstrosCampo().get(i).setModo("Ataque");
                    for (j = 0; j < campoMonstro1.size(); j++) {
                        if (campoMonstro1.get(j).getImage() == m.getFoto()) {
                            campoMonstro1.get(j).rotateProperty().set(360);
                            campoMonstro1.get(j).getRotate();
                        }
                    }
                }

            }
        }
    }

    public void verCartaOponente(MouseEvent event) throws IOException {

        int i;
        Carta c = null;
        for (i = 0; i < campoMonstro2.size(); i++) {
            if (campoMonstro2.get(i).isPressed()) {
                c = maquina.getBaralho().retornarCarta(campoMonstro2.get(i).getImage());
                break;
            }
        }
        FXMLLoader loader = new FXMLLoader();
        loader.setLocation(getClass().getResource("TelaVisualização.fxml"));
        Parent p = loader.load();
        Scene scene = new Scene(p);
        Stage s = new Stage();
        s.setScene(scene);
        TelaVisualizaçãoController t2 = loader.getController();
        if (c != null) {
            t2.receberMonstro(c);
            s.show();
        }

    }

    public void ativar(ActionEvent event) throws InterruptedException, IOException {
        if (m.getTipo().equals("Magia")) {
            efeitos.ativarEfeito(m);
            usuario = efeitos.getJogador();
            maquina = efeitos.getMaquina();
            int x = usuario.getMagiasCampo().indexOf(m);
            usuario.getMagiasCampo().get(x).setNome("");
            atualizarCampo();
            log.appendText(efeitos.getTexto());
            log.appendText("\n");
        } else {
            efeitosMonstros.ativarEfeito(m);
            usuario = efeitosMonstros.getJogador();
            maquina = efeitosMonstros.getMaquina();
            atualizarCampo();
            log.appendText(efeitosMonstros.getTexto());
            log.appendText("\n");
            bot1.setVisible(false);
            bot2.setVisible(false);
            bot3.setVisible(false);
            bot5.setVisible(false);
        }

    }

    public void encerrarJogadaUsuario(ActionEvent event) throws InterruptedException {
        numero = 0;
        vez = "maquina";
        vez2.setVisible(false);
        vez1.setVisible(true);
        bot1.setVisible(false);
        bot2.setVisible(false);
        bot3.setVisible(false);
        bot4.setVisible(false);
        bot5.setVisible(false);
        s1.setVisible(false);
        s2.setVisible(false);
        s3.setVisible(false);
        s4.setVisible(false);
        s5.setVisible(false);
        s6.setVisible(false);
        s7.setVisible(false);
        int i;
        for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
            Carta c = usuario.getMonstrosCampo().get(i);
            if (c.getStatus().equals("Controle")) {
                c.setStatus("");
                usuario.getMonstrosCampo().remove(c);
                usuario.getBaralho().getCartas().remove(c);
                maquina.getMonstrosCampo().add(c);
            }
        }
        for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
            if (usuario.getMonstrosCampo().get(i).getNome().equals("Geralt de Rívia")) {
                if (usuario.getMonstrosCampo().get(i).getAcrescimoTemporário() == 500) {
                    usuario.getMonstrosCampo().get(i).setAtaque(1500);
                    log.appendText("\nO efeito colateral de Geralt de Rívia foi ativado: seu ataque abaixou para 1500.");
                }
            }
            usuario.getMonstrosCampo().get(i).setAcrescimoTemporário(0);
        }
        for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
            usuario.getMonstrosCampo().get(i).setnAtks(0);
            usuario.getMonstrosCampo().get(i).setAtivarEfeito(false);
        }
        for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
            if (usuario.getMonstrosCampo().get(i).isTemp()) {
                usuario.getMonstrosCampo().remove(i);
                i--;
            }
        }
        passivas.setJogador(usuario);
        passivas.setMaquina(maquina);
        passivas.fimTurno();
        if (!passivas.getTexto().equals("")) {
            log.appendText(passivas.getTexto());
            log.appendText("\n");
        }
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            Carta c = usuario.getMagiasCampo().get(i);
            if (c.getNome().equals("Espadas da Luz Reveladora")) {
                canAtack = false;
            }
        }
        usuario = passivas.getJogador();
        maquina = passivas.getMaquina();
        atualizarCampo();
        new Thread() {
            @Override
            public void run() {
                try {
                    jogadaMaquina();
                } catch (InterruptedException ex) {
                    Logger.getLogger(TelaJogoController.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        }.start();

    }

    public void jogadaMaquina() throws InterruptedException {
        armadilhas.setJogador(usuario);
        armadilhas.setMaquina(maquina);
        Thread.sleep(2000);
        Carta k = maquina.comprarCarta();
        if (maquina.getCemitério().contains(k)) {
            cemitérioMáquina.setImage(k.getFoto());
        }
        int i;
        for (i = 0; i < maquina.getMão().size(); i++) {
            System.out.println(maquina.getMão().get(i).getNome());
        }
        if (maquina.getMonstrosCampo().size() <= 5) {
            log.appendText("\n");
            ArrayList<Carta> monstrosOponente = new ArrayList<>();
            for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
                Carta c = usuario.getMonstrosCampo().get(i);
                if (c.getTipo().equals("Monstro")) {
                    monstrosOponente.add(c);
                }
            }
            if (maquina.possívelTributar() == false) {
                if (monstrosOponente.isEmpty()) {
                    Carta cartaJogada = maquina.monstroModoAtaque(1);
                    if (cartaJogada != null) {
                        maquina.removerCartaDaMão(cartaJogada);
                        for (i = 0; i < 6; i++) {
                            if (campoMonstro2.get(i).isVisible() == false) {
                                campoMonstro2.get(i).setImage(cartaJogada.getFoto());
                                campoMonstro2.get(i).rotateProperty().set(180);
                                campoMonstro2.get(i).getRotate();
                                campoMonstro2.get(i).setVisible(true);
                                maquina.adicionarMonstroNoCampo(cartaJogada);
                                log.appendText(maquina.getNome() + " jogou " + cartaJogada.getNome());
                                log.appendText("\n");
                                armadilhas.ativarArmadilha(cartaJogada);
                                usuario = armadilhas.getJogador();
                                maquina = armadilhas.getMaquina();
                                passivas.setJogador(maquina);
                                passivas.setMaquina(usuario);
                                passivas.continuas();
                                passivas.ativarEfeito(cartaJogada);
                                log.appendText(passivas.getTexto());
                                usuario = passivas.getMaquina();
                                maquina = passivas.getJogador();
                                if (armadilhas.getTexto().length() >= 1) {
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                }
                                atualizarCampo();
                                break;
                            }
                        }
                    }

                } else {
                    int z = 0;
                    for (i = 0; i < monstrosOponente.size(); i++) {
                        if (!monstrosOponente.get(i).getModo().equals("Defesa")) {
                            z = 1;
                        }
                    }
                    if (z == 0) {
                        int defMaisAlto = maquina.defesaMaisForte(monstrosOponente);
                        if (maquina.existeMonstroMaisForte(defMaisAlto) == true) {
                            Carta cartaJogada = maquina.monstroModoAtaque(defMaisAlto);
                            maquina.removerCartaDaMão(cartaJogada);
                            for (i = 0; i < 6; i++) {
                                if (campoMonstro2.get(i).isVisible() == false) {
                                    campoMonstro2.get(i).setImage(cartaJogada.getFoto());
                                    campoMonstro2.get(i).rotateProperty().set(180);
                                    campoMonstro2.get(i).getRotate();
                                    campoMonstro2.get(i).setVisible(true);
                                    maquina.adicionarMonstroNoCampo(cartaJogada);
                                    log.appendText(maquina.getNome() + " jogou " + cartaJogada.getNome());
                                    log.appendText("\n");
                                    armadilhas.ativarArmadilha(cartaJogada);
                                    usuario = armadilhas.getJogador();
                                    maquina = armadilhas.getMaquina();
                                    passivas.setJogador(maquina);
                                    passivas.setMaquina(usuario);
                                    passivas.continuas();
                                    passivas.ativarEfeito(cartaJogada);
                                    log.appendText(passivas.getTexto());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    if (armadilhas.getTexto().length() >= 1) {
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                    }
                                    atualizarCampo();
                                    break;
                                }
                            }

                        } else {
                            Carta cartaJogada = maquina.monstroModoDefesa(defMaisAlto);
                            maquina.removerCartaDaMão(cartaJogada);
                            if (cartaJogada != null) {
                                for (i = 0; i < 6; i++) {
                                    if (campoMonstro2.get(i).isVisible() == false) {
                                        campoMonstro2.get(i).setImage(cartaJogada.getFoto());
                                        campoMonstro2.get(i).rotateProperty().set(270);
                                        campoMonstro2.get(i).getRotate();
                                        campoMonstro2.get(i).setVisible(true);
                                        maquina.adicionarMonstroNoCampo(cartaJogada);
                                        log.appendText(maquina.getNome() + " jogou " + cartaJogada.getNome());
                                        log.appendText("\n");
                                        armadilhas.ativarArmadilha(cartaJogada);
                                        usuario = armadilhas.getJogador();
                                        maquina = armadilhas.getMaquina();
                                        passivas.setJogador(maquina);
                                        passivas.setMaquina(usuario);
                                        passivas.continuas();
                                        passivas.ativarEfeito(cartaJogada);
                                        log.appendText(passivas.getTexto());
                                        usuario = passivas.getMaquina();
                                        maquina = passivas.getJogador();
                                        if (armadilhas.getTexto().length() >= 1) {
                                            log.appendText(armadilhas.getTexto());
                                            log.appendText("\n");
                                        }
                                        atualizarCampo();
                                        break;
                                    }
                                }
                            }

                        }
                    } else {
                        int atkMaisAlto = maquina.monstroMaisPoderoso(monstrosOponente);
                        if (maquina.existeMonstroMaisForte(atkMaisAlto) == true) {
                            Carta cartaJogada = maquina.monstroModoAtaque(atkMaisAlto);
                            maquina.removerCartaDaMão(cartaJogada);
                            for (i = 0; i < 6; i++) {
                                if (campoMonstro2.get(i).isVisible() == false) {
                                    campoMonstro2.get(i).setImage(cartaJogada.getFoto());
                                    campoMonstro2.get(i).rotateProperty().set(180);
                                    campoMonstro2.get(i).getRotate();
                                    campoMonstro2.get(i).setVisible(true);
                                    maquina.adicionarMonstroNoCampo(cartaJogada);
                                    log.appendText(maquina.getNome() + " jogou " + cartaJogada.getNome());
                                    log.appendText("\n");
                                    armadilhas.ativarArmadilha(cartaJogada);
                                    usuario = armadilhas.getJogador();
                                    maquina = armadilhas.getMaquina();
                                    passivas.setJogador(maquina);
                                    passivas.setMaquina(usuario);
                                    passivas.continuas();
                                    passivas.ativarEfeito(cartaJogada);
                                    log.appendText(passivas.getTexto());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    if (armadilhas.getTexto().length() >= 1) {
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                    }
                                    atualizarCampo();
                                    break;
                                }
                            }

                        } else {
                            Carta cartaJogada = maquina.monstroModoDefesa(atkMaisAlto);
                            maquina.removerCartaDaMão(cartaJogada);
                            if (cartaJogada != null) {
                                for (i = 0; i < 6; i++) {
                                    if (campoMonstro2.get(i).isVisible() == false) {
                                        campoMonstro2.get(i).setImage(cartaJogada.getFoto());
                                        campoMonstro2.get(i).rotateProperty().set(270);
                                        campoMonstro2.get(i).getRotate();
                                        campoMonstro2.get(i).setVisible(true);
                                        maquina.adicionarMonstroNoCampo(cartaJogada);
                                        log.appendText(maquina.getNome() + " jogou " + cartaJogada.getNome());
                                        log.appendText("\n");
                                        armadilhas.ativarArmadilha(cartaJogada);
                                        usuario = armadilhas.getJogador();
                                        maquina = armadilhas.getMaquina();
                                        passivas.setJogador(maquina);
                                        passivas.setMaquina(usuario);
                                        passivas.continuas();
                                        passivas.ativarEfeito(cartaJogada);
                                        log.appendText(passivas.getTexto());
                                        usuario = passivas.getMaquina();
                                        maquina = passivas.getJogador();
                                        if (armadilhas.getTexto().length() >= 1) {
                                            log.appendText(armadilhas.getTexto());
                                            log.appendText("\n");
                                        }
                                        atualizarCampo();
                                        break;
                                    }
                                }
                            }

                        }
                    }
                }
            } else {
                ArrayList<Carta> nívelAlto = maquina.NíveisAltos();
                nívelAlto = maquina.podemJogar(nívelAlto);
                int j, z, l;
                if (monstrosOponente.isEmpty()) {
                    maquina.setMonstrosCampo(maquina.ordenarCartas(maquina.getMonstrosCampo()));
                    int qtd = 0;
                    for (j = 0; j < nívelAlto.size(); j++) {
                        System.out.println(nívelAlto.get(j).getNome());
                        int n = nívelAlto.get(j).getNível();
                        if (n > 4 && n <= 6) {
                            qtd = 1;
                        }
                        if (n > 6 && n <= 8) {
                            qtd = 2;
                        }
                        if (n > 8 && n <= 10) {
                            qtd = 3;
                        }
                        ArrayList<Carta> sac = new ArrayList<>();
                        for (z = 0; z < maquina.getMonstrosCampo().size(); z++) {
                            if (maquina.getMonstrosCampo().get(z).getAtaque() < nívelAlto.get(j).getAtaque()) {
                                sac.add(maquina.getMonstrosCampo().get(z));
                            }
                        }
                        sac = maquina.ordenarCartas(sac);
                        if (sac.size() >= qtd) {
                            for (z = 0; z < qtd; z++) {
                                Carta t = sac.remove(0);
                                maquina.addCartaNoCemitério(t);
                                cemitérioMáquina.setImage(t.getFoto());
                                maquina.getMonstrosCampo().remove(t);
                                for (l = 0; l < campoMonstro2.size(); l++) {
                                    if (campoMonstro2.get(l).getImage() == t.getFoto()) {
                                        campoMonstro2.get(l).setImage(null);
                                        campoMonstro2.get(l).setVisible(false);
                                        if (campoMonstro2.get(l).rotateProperty().getValue() == 270) {
                                            campoMonstro2.get(l).rotateProperty().setValue(180);
                                            campoMonstro2.get(l).getRotate();
                                        }

                                    }
                                }
                            }
                            nívelAlto.get(j).setModo("Ataque");
                            maquina.adicionarMonstroNoCampo(nívelAlto.get(j));
                            for (l = 0; l < campoMonstro2.size(); l++) {
                                if (campoMonstro2.get(l).isVisible() == false) {
                                    campoMonstro2.get(l).setImage(nívelAlto.get(j).getFoto());
                                    campoMonstro2.get(l).setVisible(true);
                                    break;
                                }
                            }
                            log.appendText(maquina.getNome() + " sacrificou " + qtd + " montros");
                            log.appendText("\n");
                            log.appendText(maquina.getNome() + " invocou " + nívelAlto.get(j).getNome());
                            log.appendText("\n");
                            armadilhas.ativarArmadilha(nívelAlto.get(j));
                            usuario = armadilhas.getJogador();
                            maquina = armadilhas.getMaquina();
                            passivas.setJogador(maquina);
                            passivas.setMaquina(usuario);
                            passivas.continuas();
                            passivas.ativarEfeito(nívelAlto.get(j));
                            log.appendText(passivas.getTexto());
                            usuario = passivas.getMaquina();
                            maquina = passivas.getJogador();
                            if (armadilhas.getTexto().length() >= 1) {
                                log.appendText(armadilhas.getTexto());
                                log.appendText("\n");
                            }
                            atualizarCampo();
                            break;
                        }
                    }

                } else {
                    for (j = 0; j < nívelAlto.size(); j++) {
                        int n = nívelAlto.get(j).getNível();
                        int qtd = 0;
                        if (n > 4 && n <= 6) {
                            qtd = 1;
                        }
                        if (n > 6 && n <= 8) {
                            qtd = 2;
                        }
                        if (n > 8 && n <= 10) {
                            qtd = 3;
                        }
                        ArrayList<Carta> sac = new ArrayList<>();
                        for (z = 0; z < maquina.getMonstrosCampo().size(); z++) {
                            if (maquina.getMonstrosCampo().get(z).getAtaque() < nívelAlto.get(j).getAtaque()) {
                                sac.add(maquina.getMonstrosCampo().get(z));
                            }
                        }
                        sac = maquina.ordenarCartas(sac);
                        if (sac.size() >= qtd) {
                            monstrosOponente = maquina.ordenarCartas(monstrosOponente);
                            int p = monstrosOponente.size() - 1;
                            if (nívelAlto.get(j).getAtaque() > monstrosOponente.get(p).getAtaque()) {
                                for (l = 0; l < qtd; l++) {
                                    maquina.getMonstrosCampo().remove(sac.get(l));
                                    maquina.addCartaNoCemitério(sac.get(l));
                                    cemitérioMáquina.setImage(sac.get(l).getFoto());
                                    for (z = 0; z < campoMonstro2.size(); z++) {
                                        if (campoMonstro2.get(z).getImage() == sac.get(l).getFoto()) {
                                            campoMonstro2.get(z).setImage(null);
                                            campoMonstro2.get(z).setVisible(false);
                                            if (campoMonstro2.get(z).rotateProperty().getValue() == 270) {
                                                campoMonstro2.get(z).rotateProperty().setValue(180);
                                                campoMonstro2.get(z).getRotate();
                                            }
                                            break;
                                        }
                                    }
                                }
                                nívelAlto.get(j).setModo("Ataque");
                                maquina.adicionarMonstroNoCampo(nívelAlto.get(j));
                                for (l = 0; l < campoMonstro2.size(); l++) {
                                    if (campoMonstro2.get(l).isVisible() == false) {
                                        campoMonstro2.get(l).setImage(nívelAlto.get(j).getFoto());
                                        campoMonstro2.get(l).setVisible(true);
                                        break;
                                    }
                                }
                                log.appendText(maquina.getNome() + " sacrificou " + qtd + " montros");
                                log.appendText("\n");
                                log.appendText(maquina.getNome() + " invocou " + nívelAlto.get(j).getNome());
                                log.appendText("\n");
                                armadilhas.ativarArmadilha(nívelAlto.get(j));
                                usuario = armadilhas.getJogador();
                                maquina = armadilhas.getMaquina();
                                passivas.setJogador(maquina);
                                passivas.setMaquina(usuario);
                                passivas.continuas();
                                passivas.ativarEfeito(nívelAlto.get(j));
                                log.appendText(passivas.getTexto());
                                usuario = passivas.getMaquina();
                                maquina = passivas.getJogador();
                                if (armadilhas.getTexto().length() >= 1) {
                                    log.appendText(armadilhas.getTexto());
                                    log.appendText("\n");
                                }
                                atualizarCampo();
                                break;
                            }

                        }

                    }
                }

            }
            Thread.sleep(2000);
            if (maquina.jogarArmadilha() == true) {
                log.appendText(maquina.getNome() + " jogou uma carta virada para baixo");
                log.appendText("\n");
            }
            atualizarCampo();
            Thread.sleep(1000);
            ataqueMaquina();
            Thread.sleep(2000);
            encerrarJogadaMaquina();
        }
    }

    public void encerrarJogadaMaquina() {
        int i;
        vez1.setVisible(false);
        vez2.setVisible(true);
        for (i = 0; i < mão.size(); i++) {
            if (mão.get(i).isVisible() == true) {
                opções.get(i).setVisible(true);
            }
        }
        bot4.setVisible(true);
        int p = 0;
        for (i = 0; i < mão.size(); i++) {
            if (mão.get(i).isVisible() == false) {
                p = 1;
                Carta c = usuario.comprarCarta();
                if (c != null) {
                    mão.get(i).setImage(c.getFoto());
                    mão.get(i).setVisible(true);
                    opções.get(i).setVisible(true);
                    break;
                }
            }
        }
        if (p == 0) {
            Carta c = usuario.comprarCarta();
            if (usuario.getCemitério().contains(c) && c != null) {
                cemitérioJogador.setImage(c.getFoto());
            }
        }
        for (i = 0; i < usuario.getMonstrosCampo().size(); i++) {
            usuario.getMonstrosCampo().get(i).setAtacou(false);
        }
        for (i = 0; i < usuario.getCemitério().size(); i++) {
            usuario.getCemitério().get(i).setAumentoAtk(0);
            usuario.getCemitério().get(i).setAumentoDef(0);
        }
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("Mangekyo Sharingan")) {
                usuario.reduzirPontosVida(500);
                log.appendText(usuario.getNome() + " perdeu 500 pontos de vida em virtude do efeito do Mangekyo Sharingan\n");
                break;
            }
        }
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("Tesouro Oculto")) {
                if (usuario.comprarCarta() != null) {
                    log.appendText(usuario.getNome() + " comprou uma carta extra em virtude do efeito de Tesouro Oculto.\n");
                }
                break;
            }
        }
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("Rinnegan")) {
                usuario.reduzirPontosVida(750);
                log.appendText(usuario.getNome() + " perdeu 750 pontos de vida em virtude do efeito do Rinnegan\n");
                break;
            }
        }

        boolean flag = false;
        int pos = 0;
        for (i = 0; i < usuario.getMagiasCampo().size(); i++) {
            if (usuario.getMagiasCampo().get(i).getNome().equals("Espadas da Luz Reveladora")) {
                log.appendText("Espadas da Luz turnos restantes: " + (3 - (contTurno + 1)));
                contTurno++;
                log.appendText("\n");
                flag = true;
                pos = i;
                break;
            }
        }
        if (flag == false) {
            contTurno = 0;
            canAtack = true;
        }
        if (contTurno == 3) {
            contTurno = 0;
            canAtack = true;
            log.appendText("O efeito de Espadas da Luz Reveladora terminou\n");
            usuario.getMagiasCampo().get(pos).setNome("");
            usuario.addCartaNoCemitério(usuario.getMagiasCampo().get(pos));
        }
        Platform.runLater(new Runnable() {
            @Override
            public void run() {
                qtdCartas.setText(String.valueOf(usuario.getQtdCartas()));
                pts2.setText(String.valueOf(usuario.getPontosVida()));
            }
        });

        turno++;
        exibirBotões();
        passivas.continuas();
        passivas.efeitoInicio();
        if (!passivas.getTexto().equals("")) {
            //log.appendText(passivas.getTexto());
            //log.appendText("\n");
        }
        atualizarCampo();
    }

    public void ataqueMaquina() throws InterruptedException {
        passivas.setJogador(usuario);
        passivas.setMaquina(maquina);
        passivasAtaque.setJogador(maquina);
        passivasAtaque.setMaquina(usuario);
        // armadilhas.setJogador(usuario);
        //armadilhas.setMaquina(maquina);
        int i, j, z;
        boolean pode = false;
        if (canAtack) {
            maquina.setMonstrosCampo(maquina.ordenarCartas(maquina.getMonstrosCampo()));
            for (i = maquina.getMonstrosCampo().size() - 1; i >= 0; i--) {
                Carta k = maquina.getMonstrosCampo().get(i);
                if (k.getModo().equals("Ataque")) {
                    if (usuario.getMonstrosCampo().isEmpty()) {
                        if (armadilhas.armadilhaAtaque(k) == true) {
                            usuario = armadilhas.getJogador();
                            maquina = armadilhas.getMaquina();
                            atualizarCampo();
                            if (!armadilhas.getTexto().equals("")) {
                                log.appendText(armadilhas.getTexto());
                                log.appendText("\n");
                            }
                            pode = true;
                            if (maquina.getMonstrosCampo().isEmpty()) {
                                break;
                            }
                            break;
                        } else {
                            log.appendText(armadilhas.getTexto() + "\n");
                            atualizarCampo();
                            if (passivasAtaque.efeitoAtacante(k, null) == false) {
                                usuario.reduzirPontosVida(k.getAtaque());
                                Platform.runLater(new Runnable() {
                                    @Override
                                    public void run() {
                                        pts2.setText(String.valueOf(usuario.getPontosVida()));
                                    }
                                });
                                maquina.getMonstrosCampo().get(i).setAtacou(true);
                                log.appendText(k.getNome() + " atacou diretamente");
                                log.appendText("\n");
                                log.appendText(usuario.getNome() + " perdeu " + k.getAtaque() + " pontos de vida");
                                log.appendText("\n");
                                pode = true;
                                if (usuario.getPontosVida() <= 0) {
                                    JOptionPane.showMessageDialog(null, "Você perdeu !");
                                }
                            } else {
                                usuario = passivasAtaque.getMaquina();
                                maquina = passivasAtaque.getJogador();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                                atualizarCampo();
                            }
                        }

                    } else {
                        usuario.setMonstrosCampo(usuario.ordenarCartas(usuario.getMonstrosCampo()));
                        for (j = usuario.getMonstrosCampo().size() - 1; j >= 0; j--) {
                            Carta c = usuario.getMonstrosCampo().get(j);
                            if (c.getModo().equals("Ataque") && k.getAtaque() > c.getAtaque()) {
                                if (armadilhas.armadilhaAtaque(k) == true) {
                                    usuario = armadilhas.getJogador();
                                    maquina = armadilhas.getMaquina();
                                    atualizarCampo();
                                    if (!armadilhas.getTexto().equals("")) {
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                    }
                                    pode = true;
                                    if (maquina.getMonstrosCampo().isEmpty()) {
                                        break;
                                    }
                                    break;
                                } else {
                                    log.appendText(armadilhas.getTexto() + "\n");
                                    atualizarCampo();
                                    int diferença = k.getAtaque() - c.getAtaque();
                                    if (passivas.efeitoAtaque(c, k) == false) {
                                        if (passivasAtaque.efeitoAtacante(k, c) == false) {
                                            usuario.reduzirPontosVida(diferença);
                                            Platform.runLater(new Runnable() {
                                                @Override
                                                public void run() {
                                                    pts2.setText(String.valueOf(usuario.getPontosVida()));
                                                }
                                            });
                                            usuario.getMonstrosCampo().remove(c);
                                            for (z = 0; z < campoMonstro1.size(); z++) {
                                                if (campoMonstro1.get(z).getImage() == c.getFoto()) {
                                                    campoMonstro1.get(z).setImage(null);
                                                    campoMonstro1.get(z).setVisible(false);
                                                }
                                            }
                                            usuario.addCartaNoCemitério(c);
                                            cemitérioJogador.setImage(c.getFoto());
                                            maquina.getMonstrosCampo().get(i).setAtacou(true);
                                            pode = true;
                                            log.appendText(k.getNome() + " atacou " + c.getNome());
                                            log.appendText("\n");
                                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                                            log.appendText("\n");
                                            if (usuario.getPontosVida() <= 0) {
                                                JOptionPane.showMessageDialog(null, "Você perdeu !");
                                            }
                                            break;
                                        } else {
                                            usuario = passivasAtaque.getMaquina();
                                            maquina = passivasAtaque.getJogador();
                                            log.appendText(passivasAtaque.getTexto());
                                            atualizarCampo();
                                            pode = true;
                                            break;
                                        }

                                    } else {
                                        if (passivasAtaque.efeitoAtacante(k, c) == false) {
                                            pode = true;
                                            atualizarCampo();
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                            break;
                                        } else {
                                            pode = true;
                                            usuario = passivas.getJogador();
                                            maquina = passivas.getMaquina();
                                            atualizarCampo();
                                            log.appendText(passivas.getTexto());
                                            log.appendText("\n");
                                            usuario = passivasAtaque.getMaquina();
                                            maquina = passivasAtaque.getJogador();
                                            atualizarCampo();
                                            log.appendText(passivasAtaque.getTexto());
                                            log.appendText("\n");
                                            break;
                                        }

                                    }
                                }

                            }
                            if (c.getModo().equals("Defesa") && k.getAtaque() > c.getDefesa()) {
                                if (armadilhas.armadilhaAtaque(k) == true) {
                                    usuario = armadilhas.getJogador();
                                    maquina = armadilhas.getMaquina();
                                    atualizarCampo();
                                    if (!armadilhas.getTexto().equals("")) {
                                        log.appendText(armadilhas.getTexto());
                                        log.appendText("\n");
                                    }
                                    pode = true;
                                    if (maquina.getMonstrosCampo().isEmpty()) {
                                        break;
                                    }
                                    break;
                                } else {
                                    log.appendText(armadilhas.getTexto() + "\n");
                                    atualizarCampo();
                                    if (passivasAtaque.efeitoAtacante(k, c) == false) {
                                        usuario.getMonstrosCampo().remove(c);
                                        for (z = 0; z < campoMonstro1.size(); z++) {
                                            if (campoMonstro1.get(z).getImage() == c.getFoto()) {
                                                campoMonstro1.get(z).setImage(null);
                                                campoMonstro1.get(z).setVisible(false);
                                            }
                                        }
                                        usuario.addCartaNoCemitério(c);
                                        cemitérioJogador.setImage(c.getFoto());
                                        maquina.getMonstrosCampo().get(i).setAtacou(true);
                                        pode = true;
                                        log.appendText(k.getNome() + " atacou " + c.getNome());
                                        log.appendText("\n");
                                        log.appendText(k.getNome() + " venceu");
                                        log.appendText("\n");
                                        break;
                                    } else {
                                        pode = true;
                                        usuario = passivasAtaque.getMaquina();
                                        maquina = passivasAtaque.getJogador();
                                        atualizarCampo();
                                        log.appendText(passivasAtaque.getTexto());
                                        log.appendText("\n");
                                        break;
                                    }

                                }
                            }
                            if (c.getModo().equals("Defesa") && k.getAtaque() < c.getDefesa() && k.getAtaque() > c.getAtaque()) {
                                pode = true;
                            }
                        }
                    }

                }
                Thread.sleep(1000);
                if (maquina.getMonstrosCampo().isEmpty()) {
                    break;
                }
            }
            if (pode == false) {
                for (i = 0; i < maquina.getMonstrosCampo().size(); i++) {
                    if (maquina.getMonstrosCampo().get(i).getModo().equals("Ataque")) {
                        maquina.getMonstrosCampo().get(i).setModo("Defesa");
                        for (j = 0; j < campoMonstro2.size(); j++) {
                            if (campoMonstro2.get(j).getImage() == maquina.getMonstrosCampo().get(i).getFoto()) {
                                campoMonstro2.get(j).rotateProperty().setValue(270);
                                campoMonstro2.get(j).getRotate();
                                break;
                            }
                        }
                    }

                }
            }
        } else {
            log.appendText(maquina.getNome() + " não pode atacar devido ao efeito de Espadas da Luz Reveladora");
        }

        log.appendText("\n");
    }

    public void atacarMonstro1(ActionEvent event) {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        passivas.setJogador(maquina);
        passivas.setMaquina(usuario);
        passivasAtaque.setJogador(usuario);
        passivasAtaque.setMaquina(maquina);
        boolean z = false;
        if (m.getModo().equals("Ataque")) {
            numero = 1;
            int ptsMaquina = maquina.getPontosVida();
            if (armadilhas.armadilhaAtaque(m) == true) {
                usuario = armadilhas.getMaquina();
                maquina = armadilhas.getJogador();
                atualizarCampo();
                log.appendText(armadilhas.getTexto());
                log.appendText("\n");
                z = true;
                opçõesMonstro.get(0).setVisible(false);
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
            } else {
                maquina = armadilhas.getJogador();
                usuario = armadilhas.getMaquina();
                log.appendText(armadilhas.getTexto() + "\n");
                atualizarCampo();
                if (maquina.getMonstrosCampo().get(0).getModo().equals("Ataque")) {
                    if (m.getAtaque() > maquina.getMonstrosCampo().get(0).getAtaque()) {
                        if (passivas.efeitoAtaque(maquina.getMonstrosCampo().get(0), m) == false) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(0)) == false) {
                                int diferença = m.getAtaque() - maquina.getMonstrosCampo().get(0).getAtaque();
                                maquina.reduzirPontosVida(diferença);
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(0).getNome());
                                log.appendText("\n");
                                log.appendText(maquina.getNome() + " perdeu " + diferença + " pontos de vida");
                                log.appendText("\n");
                                pts1.setText(String.valueOf(maquina.getPontosVida()));
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(0).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                z = true;
                                opçõesMonstro.get(0).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                                z = false;
                                opçõesMonstro.get(0).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            }

                        } else {
                            if (maquina.getMonstrosCampo().isEmpty() == false) {
                                if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(0)) == false) {
                                    System.out.println("AQUI !!!!!!!!!!!!!!!!!: " + maquina.getMonstrosCampo().get(0).getNome());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    z = false;
                                    opçõesMonstro.get(0).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                } else {
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    usuario = passivasAtaque.getJogador();
                                    maquina = passivasAtaque.getMaquina();
                                    atualizarCampo();
                                    z = false;
                                    opçõesMonstro.get(0).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                }
                            }
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(0).getAtaque()) {
                            System.out.println(m.getNome() + " " + maquina.getMonstrosCampo().get(0).getNome());
                            int diferença = maquina.getMonstrosCampo().get(0).getAtaque() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == m.getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(0).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(0).getAtaque()) {
                            int i;
                            for (i = 0; i < campoMonstro2.size(); i++) {
                                if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(0).getFoto()) {
                                    campoMonstro2.get(i).setVisible(false);
                                    campoMonstro2.get(i).setImage(null);
                                }
                            }
                            opçõesMonstro.get(0).setVisible(false);
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = true;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(0).getNome());
                            log.appendText("\n");
                            log.appendText("Ambos foram destruídos");
                            log.appendText("\n");
                        }
                    }

                } else {
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() > maquina.getMonstrosCampo().get(0).getDefesa()) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(0)) == false) {
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(0).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                opçõesMonstro.get(0).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = true;
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(0).getNome());
                                log.appendText("\n");
                                log.appendText(m.getNome() + " venceu");
                                log.appendText("\n");
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                opçõesMonstro.get(0).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = false;
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                            }
                        }
                    }

                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(0).getDefesa()) {
                            int diferença = maquina.getMonstrosCampo().get(0).getDefesa() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(0).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(0).getDefesa()) {
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = false;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(0).getNome());
                            log.appendText("\n");
                            log.appendText("Os monstros empataram");
                            log.appendText("\n");
                        }
                    }
                }
                if (z == true) {
                    if (maquina.getMonstrosCampo().isEmpty() == false) {
                        Carta c = maquina.getMonstrosCampo().remove(0);
                        maquina.addCartaNoCemitério(c);
                        cemitérioMáquina.setImage(c.getFoto());
                    }
                }
            }
            passivas.setJogador(maquina);
            passivas.setMaquina(usuario);
            passivas.continuas();
            usuario = passivas.getMaquina();
            maquina = passivas.getJogador();
            if (verificarTérmino() == true) {
                JOptionPane.showMessageDialog(null, "Você venceu !");
            }
            bot5.setVisible(false);
        }

    }

    public void atacarMonstro2(ActionEvent event) {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        passivas.setJogador(maquina);
        passivas.setMaquina(usuario);
        passivasAtaque.setJogador(usuario);
        passivasAtaque.setMaquina(maquina);
        boolean z = false;
        if (m.getModo().equals("Ataque")) {
            numero = 1;
            int ptsMaquina = maquina.getPontosVida();
            if (armadilhas.armadilhaAtaque(m) == true) {
                usuario = armadilhas.getMaquina();
                maquina = armadilhas.getJogador();
                atualizarCampo();
                log.appendText(armadilhas.getTexto());
                log.appendText("\n");
                z = true;
                opçõesMonstro.get(1).setVisible(false);
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
            } else {
                maquina = armadilhas.getJogador();
                usuario = armadilhas.getMaquina();
                log.appendText(armadilhas.getTexto() + "\n");
                atualizarCampo();
                if (maquina.getMonstrosCampo().get(1).getModo().equals("Ataque")) {
                    if (m.getAtaque() > maquina.getMonstrosCampo().get(1).getAtaque()) {
                        if (passivas.efeitoAtaque(maquina.getMonstrosCampo().get(1), m) == false) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(1)) == false) {
                                int diferença = m.getAtaque() - maquina.getMonstrosCampo().get(1).getAtaque();
                                maquina.reduzirPontosVida(diferença);
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(1).getNome());
                                log.appendText("\n");
                                log.appendText(maquina.getNome() + " perdeu " + diferença + " pontos de vida");
                                log.appendText("\n");
                                pts1.setText(String.valueOf(maquina.getPontosVida()));
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(1).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                z = true;
                                opçõesMonstro.get(1).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                                z = false;
                                opçõesMonstro.get(1).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            }

                        } else {
                            if (maquina.getMonstrosCampo().isEmpty() == false) {
                                if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(1)) == false) {
                                    System.out.println("AQUI !!!!!!!!!!!!!!!!!: " + maquina.getMonstrosCampo().get(1).getNome());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    z = false;
                                    opçõesMonstro.get(1).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                } else {
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    usuario = passivasAtaque.getJogador();
                                    maquina = passivasAtaque.getMaquina();
                                    atualizarCampo();
                                    z = false;
                                    opçõesMonstro.get(1).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                }
                            }
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(1).getAtaque()) {
                            System.out.println(m.getNome() + " " + maquina.getMonstrosCampo().get(1).getNome());
                            int diferença = maquina.getMonstrosCampo().get(1).getAtaque() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == m.getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(1).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(1).getAtaque()) {
                            int i;
                            for (i = 0; i < campoMonstro2.size(); i++) {
                                if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(1).getFoto()) {
                                    campoMonstro2.get(i).setVisible(false);
                                    campoMonstro2.get(i).setImage(null);
                                }
                            }
                            opçõesMonstro.get(1).setVisible(false);
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = true;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(1).getNome());
                            log.appendText("\n");
                            log.appendText("Ambos foram destruídos");
                            log.appendText("\n");
                        }
                    }

                } else {
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() > maquina.getMonstrosCampo().get(1).getDefesa()) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(1)) == false) {
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(1).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                opçõesMonstro.get(1).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = true;
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(1).getNome());
                                log.appendText("\n");
                                log.appendText(m.getNome() + " venceu");
                                log.appendText("\n");
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                opçõesMonstro.get(1).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = false;
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                            }
                        }
                    }

                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(1).getDefesa()) {
                            int diferença = maquina.getMonstrosCampo().get(1).getDefesa() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(1).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(1).getDefesa()) {
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = false;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(1).getNome());
                            log.appendText("\n");
                            log.appendText("Os monstros empataram");
                            log.appendText("\n");
                        }
                    }
                }
                if (z == true) {
                    if (maquina.getMonstrosCampo().isEmpty() == false) {
                        Carta c = maquina.getMonstrosCampo().remove(1);
                        maquina.addCartaNoCemitério(c);
                        cemitérioMáquina.setImage(c.getFoto());
                    }
                }
            }
            passivas.setJogador(maquina);
            passivas.setMaquina(usuario);
            passivas.continuas();
            usuario = passivas.getMaquina();
            maquina = passivas.getJogador();
            if (verificarTérmino() == true) {
                JOptionPane.showMessageDialog(null, "Você venceu !");
            }
            bot5.setVisible(false);
        }

    }

    public void atacarMonstro3(ActionEvent event) {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        passivas.setJogador(maquina);
        passivas.setMaquina(usuario);
        passivasAtaque.setJogador(usuario);
        passivasAtaque.setMaquina(maquina);
        boolean z = false;
        if (m.getModo().equals("Ataque")) {
            numero = 1;
            int ptsMaquina = maquina.getPontosVida();
            if (armadilhas.armadilhaAtaque(m) == true) {
                usuario = armadilhas.getMaquina();
                maquina = armadilhas.getJogador();
                atualizarCampo();
                log.appendText(armadilhas.getTexto());
                log.appendText("\n");
                z = true;
                opçõesMonstro.get(2).setVisible(false);
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
            } else {
                maquina = armadilhas.getJogador();
                usuario = armadilhas.getMaquina();
                log.appendText(armadilhas.getTexto() + "\n");
                atualizarCampo();
                if (maquina.getMonstrosCampo().get(2).getModo().equals("Ataque")) {
                    if (m.getAtaque() > maquina.getMonstrosCampo().get(2).getAtaque()) {
                        if (passivas.efeitoAtaque(maquina.getMonstrosCampo().get(2), m) == false) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(2)) == false) {
                                int diferença = m.getAtaque() - maquina.getMonstrosCampo().get(2).getAtaque();
                                maquina.reduzirPontosVida(diferença);
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(2).getNome());
                                log.appendText("\n");
                                log.appendText(maquina.getNome() + " perdeu " + diferença + " pontos de vida");
                                log.appendText("\n");
                                pts1.setText(String.valueOf(maquina.getPontosVida()));
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(2).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                z = true;
                                opçõesMonstro.get(2).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                                z = false;
                                opçõesMonstro.get(2).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            }

                        } else {
                            if (maquina.getMonstrosCampo().isEmpty() == false) {
                                if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(2)) == false) {
                                    System.out.println("AQUI !!!!!!!!!!!!!!!!!: " + maquina.getMonstrosCampo().get(2).getNome());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    z = false;
                                    opçõesMonstro.get(2).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                } else {
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    usuario = passivasAtaque.getJogador();
                                    maquina = passivasAtaque.getMaquina();
                                    atualizarCampo();
                                    z = false;
                                    opçõesMonstro.get(2).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                }
                            }
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(2).getAtaque()) {
                            System.out.println(m.getNome() + " " + maquina.getMonstrosCampo().get(2).getNome());
                            int diferença = maquina.getMonstrosCampo().get(2).getAtaque() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == m.getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(2).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(2).getAtaque()) {
                            int i;
                            for (i = 0; i < campoMonstro2.size(); i++) {
                                if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(2).getFoto()) {
                                    campoMonstro2.get(i).setVisible(false);
                                    campoMonstro2.get(i).setImage(null);
                                }
                            }
                            opçõesMonstro.get(2).setVisible(false);
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = true;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(2).getNome());
                            log.appendText("\n");
                            log.appendText("Ambos foram destruídos");
                            log.appendText("\n");
                        }
                    }

                } else {
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() > maquina.getMonstrosCampo().get(2).getDefesa()) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(2)) == false) {
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(2).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                opçõesMonstro.get(2).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = true;
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(2).getNome());
                                log.appendText("\n");
                                log.appendText(m.getNome() + " venceu");
                                log.appendText("\n");
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                opçõesMonstro.get(2).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = false;
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                            }
                        }
                    }

                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(2).getDefesa()) {
                            int diferença = maquina.getMonstrosCampo().get(2).getDefesa() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(2).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(2).getDefesa()) {
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = false;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(2).getNome());
                            log.appendText("\n");
                            log.appendText("Os monstros empataram");
                            log.appendText("\n");
                        }
                    }
                }
                if (z == true) {
                    if (maquina.getMonstrosCampo().isEmpty() == false) {
                        Carta c = maquina.getMonstrosCampo().remove(2);
                        maquina.addCartaNoCemitério(c);
                        cemitérioMáquina.setImage(c.getFoto());
                    }
                }
            }
            passivas.setJogador(maquina);
            passivas.setMaquina(usuario);
            passivas.continuas();
            usuario = passivas.getMaquina();
            maquina = passivas.getJogador();
            if (verificarTérmino() == true) {
                JOptionPane.showMessageDialog(null, "Você venceu !");
            }
            bot5.setVisible(false);
        }
    }

    public void atacarMonstro4(ActionEvent event) {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        passivas.setJogador(maquina);
        passivas.setMaquina(usuario);
        passivasAtaque.setJogador(usuario);
        passivasAtaque.setMaquina(maquina);
        boolean z = false;
        if (m.getModo().equals("Ataque")) {
            numero = 1;
            int ptsMaquina = maquina.getPontosVida();
            if (armadilhas.armadilhaAtaque(m) == true) {
                usuario = armadilhas.getMaquina();
                maquina = armadilhas.getJogador();
                atualizarCampo();
                log.appendText(armadilhas.getTexto());
                log.appendText("\n");
                z = true;
                opçõesMonstro.get(3).setVisible(false);
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
            } else {
                maquina = armadilhas.getJogador();
                usuario = armadilhas.getMaquina();
                log.appendText(armadilhas.getTexto() + "\n");
                atualizarCampo();
                if (maquina.getMonstrosCampo().get(3).getModo().equals("Ataque")) {
                    if (m.getAtaque() > maquina.getMonstrosCampo().get(3).getAtaque()) {
                        if (passivas.efeitoAtaque(maquina.getMonstrosCampo().get(3), m) == false) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(3)) == false) {
                                int diferença = m.getAtaque() - maquina.getMonstrosCampo().get(3).getAtaque();
                                maquina.reduzirPontosVida(diferença);
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(3).getNome());
                                log.appendText("\n");
                                log.appendText(maquina.getNome() + " perdeu " + diferença + " pontos de vida");
                                log.appendText("\n");
                                pts1.setText(String.valueOf(maquina.getPontosVida()));
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(3).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                z = true;
                                opçõesMonstro.get(3).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                                z = false;
                                opçõesMonstro.get(3).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            }

                        } else {
                            if (maquina.getMonstrosCampo().isEmpty() == false) {
                                if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(3)) == false) {
                                    System.out.println("AQUI !!!!!!!!!!!!!!!!!: " + maquina.getMonstrosCampo().get(3).getNome());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    z = false;
                                    opçõesMonstro.get(3).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                } else {
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    usuario = passivasAtaque.getJogador();
                                    maquina = passivasAtaque.getMaquina();
                                    atualizarCampo();
                                    z = false;
                                    opçõesMonstro.get(3).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                }
                            }
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(3).getAtaque()) {
                            System.out.println(m.getNome() + " " + maquina.getMonstrosCampo().get(3).getNome());
                            int diferença = maquina.getMonstrosCampo().get(3).getAtaque() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == m.getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(3).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(3).getAtaque()) {
                            int i;
                            for (i = 0; i < campoMonstro2.size(); i++) {
                                if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(3).getFoto()) {
                                    campoMonstro2.get(i).setVisible(false);
                                    campoMonstro2.get(i).setImage(null);
                                }
                            }
                            opçõesMonstro.get(3).setVisible(false);
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = true;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(3).getNome());
                            log.appendText("\n");
                            log.appendText("Ambos foram destruídos");
                            log.appendText("\n");
                        }
                    }

                } else {
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() > maquina.getMonstrosCampo().get(3).getDefesa()) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(3)) == false) {
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(3).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                opçõesMonstro.get(3).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = true;
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(3).getNome());
                                log.appendText("\n");
                                log.appendText(m.getNome() + " venceu");
                                log.appendText("\n");
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                opçõesMonstro.get(3).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = false;
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                            }
                        }
                    }

                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(3).getDefesa()) {
                            int diferença = maquina.getMonstrosCampo().get(3).getDefesa() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(3).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(3).getDefesa()) {
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = false;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(3).getNome());
                            log.appendText("\n");
                            log.appendText("Os monstros empataram");
                            log.appendText("\n");
                        }
                    }
                }
                if (z == true) {
                    if (maquina.getMonstrosCampo().isEmpty() == false) {
                        Carta c = maquina.getMonstrosCampo().remove(3);
                        maquina.addCartaNoCemitério(c);
                        cemitérioMáquina.setImage(c.getFoto());
                    }
                }
            }
            passivas.setJogador(maquina);
            passivas.setMaquina(usuario);
            passivas.continuas();
            usuario = passivas.getMaquina();
            maquina = passivas.getJogador();
            if (verificarTérmino() == true) {
                JOptionPane.showMessageDialog(null, "Você venceu !");
            }
            bot5.setVisible(false);
        }
    }

    public void atacarMonstro5(ActionEvent event) {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        passivas.setJogador(maquina);
        passivas.setMaquina(usuario);
        passivasAtaque.setJogador(usuario);
        passivasAtaque.setMaquina(maquina);
        boolean z = false;
        if (m.getModo().equals("Ataque")) {
            numero = 1;
            int ptsMaquina = maquina.getPontosVida();
            if (armadilhas.armadilhaAtaque(m) == true) {
                usuario = armadilhas.getMaquina();
                maquina = armadilhas.getJogador();
                atualizarCampo();
                log.appendText(armadilhas.getTexto());
                log.appendText("\n");
                z = true;
                opçõesMonstro.get(4).setVisible(false);
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
            } else {
                maquina = armadilhas.getJogador();
                usuario = armadilhas.getMaquina();
                log.appendText(armadilhas.getTexto() + "\n");
                atualizarCampo();
                if (maquina.getMonstrosCampo().get(4).getModo().equals("Ataque")) {
                    if (m.getAtaque() > maquina.getMonstrosCampo().get(4).getAtaque()) {
                        if (passivas.efeitoAtaque(maquina.getMonstrosCampo().get(4), m) == false) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(4)) == false) {
                                int diferença = m.getAtaque() - maquina.getMonstrosCampo().get(4).getAtaque();
                                maquina.reduzirPontosVida(diferença);
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(4).getNome());
                                log.appendText("\n");
                                log.appendText(maquina.getNome() + " perdeu " + diferença + " pontos de vida");
                                log.appendText("\n");
                                pts1.setText(String.valueOf(maquina.getPontosVida()));
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(4).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                z = true;
                                opçõesMonstro.get(4).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                                z = false;
                                opçõesMonstro.get(4).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            }

                        } else {
                            if (maquina.getMonstrosCampo().isEmpty() == false) {
                                if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(4)) == false) {
                                    System.out.println("AQUI !!!!!!!!!!!!!!!!!: " + maquina.getMonstrosCampo().get(4).getNome());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    z = false;
                                    opçõesMonstro.get(4).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                } else {
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    usuario = passivasAtaque.getJogador();
                                    maquina = passivasAtaque.getMaquina();
                                    atualizarCampo();
                                    z = false;
                                    opçõesMonstro.get(4).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                }
                            }
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(4).getAtaque()) {
                            System.out.println(m.getNome() + " " + maquina.getMonstrosCampo().get(4).getNome());
                            int diferença = maquina.getMonstrosCampo().get(4).getAtaque() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == m.getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(4).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(4).getAtaque()) {
                            int i;
                            for (i = 0; i < campoMonstro2.size(); i++) {
                                if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(4).getFoto()) {
                                    campoMonstro2.get(i).setVisible(false);
                                    campoMonstro2.get(i).setImage(null);
                                }
                            }
                            opçõesMonstro.get(4).setVisible(false);
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = true;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(4).getNome());
                            log.appendText("\n");
                            log.appendText("Ambos foram destruídos");
                            log.appendText("\n");
                        }
                    }

                } else {
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() > maquina.getMonstrosCampo().get(4).getDefesa()) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(4)) == false) {
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(4).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                opçõesMonstro.get(4).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = true;
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(4).getNome());
                                log.appendText("\n");
                                log.appendText(m.getNome() + " venceu");
                                log.appendText("\n");
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                opçõesMonstro.get(4).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = false;
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                            }
                        }
                    }

                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(4).getDefesa()) {
                            int diferença = maquina.getMonstrosCampo().get(4).getDefesa() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(4).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(4).getDefesa()) {
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = false;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(4).getNome());
                            log.appendText("\n");
                            log.appendText("Os monstros empataram");
                            log.appendText("\n");
                        }
                    }
                }
                if (z == true) {
                    if (maquina.getMonstrosCampo().isEmpty() == false) {
                        Carta c = maquina.getMonstrosCampo().remove(4);
                        maquina.addCartaNoCemitério(c);
                        cemitérioMáquina.setImage(c.getFoto());
                    }
                }
            }
            passivas.setJogador(maquina);
            passivas.setMaquina(usuario);
            passivas.continuas();
            usuario = passivas.getMaquina();
            maquina = passivas.getJogador();
            if (verificarTérmino() == true) {
                JOptionPane.showMessageDialog(null, "Você venceu !");
            }
            bot5.setVisible(false);
        }
    }

    public void atacarMonstro6(ActionEvent event) {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        passivas.setJogador(maquina);
        passivas.setMaquina(usuario);
        passivasAtaque.setJogador(usuario);
        passivasAtaque.setMaquina(maquina);
        boolean z = false;
        if (m.getModo().equals("Ataque")) {
            numero = 1;
            int ptsMaquina = maquina.getPontosVida();
            if (armadilhas.armadilhaAtaque(m) == true) {
                usuario = armadilhas.getMaquina();
                maquina = armadilhas.getJogador();
                atualizarCampo();
                log.appendText(armadilhas.getTexto());
                log.appendText("\n");
                z = true;
                opçõesMonstro.get(5).setVisible(false);
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
            } else {
                maquina = armadilhas.getJogador();
                usuario = armadilhas.getMaquina();
                log.appendText(armadilhas.getTexto() + "\n");
                atualizarCampo();
                if (maquina.getMonstrosCampo().get(5).getModo().equals("Ataque")) {
                    if (m.getAtaque() > maquina.getMonstrosCampo().get(5).getAtaque()) {
                        if (passivas.efeitoAtaque(maquina.getMonstrosCampo().get(5), m) == false) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(5)) == false) {
                                int diferença = m.getAtaque() - maquina.getMonstrosCampo().get(5).getAtaque();
                                maquina.reduzirPontosVida(diferença);
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(5).getNome());
                                log.appendText("\n");
                                log.appendText(maquina.getNome() + " perdeu " + diferença + " pontos de vida");
                                log.appendText("\n");
                                pts1.setText(String.valueOf(maquina.getPontosVida()));
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(5).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                z = true;
                                opçõesMonstro.get(5).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                                z = false;
                                opçõesMonstro.get(5).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                            }

                        } else {
                            if (maquina.getMonstrosCampo().isEmpty() == false) {
                                if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(5)) == false) {
                                    System.out.println("AQUI !!!!!!!!!!!!!!!!!: " + maquina.getMonstrosCampo().get(5).getNome());
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    z = false;
                                    opçõesMonstro.get(5).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                } else {
                                    usuario = passivas.getMaquina();
                                    maquina = passivas.getJogador();
                                    atualizarCampo();
                                    if (!passivas.getTexto().equals("")) {
                                        log.appendText(passivas.getTexto());
                                        log.appendText("\n");
                                    }
                                    usuario = passivasAtaque.getJogador();
                                    maquina = passivasAtaque.getMaquina();
                                    atualizarCampo();
                                    z = false;
                                    opçõesMonstro.get(5).setVisible(false);
                                    if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                        m.setAtacou(true);
                                        bot1.setVisible(false);
                                    }
                                    bot2.setVisible(false);
                                    bot3.setVisible(false);
                                }
                            }
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(5).getAtaque()) {
                            System.out.println(m.getNome() + " " + maquina.getMonstrosCampo().get(5).getNome());
                            int diferença = maquina.getMonstrosCampo().get(5).getAtaque() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == m.getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(5).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(5).getAtaque()) {
                            int i;
                            for (i = 0; i < campoMonstro2.size(); i++) {
                                if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(5).getFoto()) {
                                    campoMonstro2.get(i).setVisible(false);
                                    campoMonstro2.get(i).setImage(null);
                                }
                            }
                            opçõesMonstro.get(5).setVisible(false);
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = true;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(5).getNome());
                            log.appendText("\n");
                            log.appendText("Ambos foram destruídos");
                            log.appendText("\n");
                        }
                    }

                } else {
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() > maquina.getMonstrosCampo().get(5).getDefesa()) {
                            if (passivasAtaque.efeitoAtacante(m, maquina.getMonstrosCampo().get(5)) == false) {
                                int i;
                                for (i = 0; i < campoMonstro2.size(); i++) {
                                    if (campoMonstro2.get(i).getImage() == maquina.getMonstrosCampo().get(5).getFoto()) {
                                        campoMonstro2.get(i).setVisible(false);
                                        campoMonstro2.get(i).setImage(null);
                                    }
                                }
                                opçõesMonstro.get(5).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = true;
                                log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(5).getNome());
                                log.appendText("\n");
                                log.appendText(m.getNome() + " venceu");
                                log.appendText("\n");
                            } else {
                                usuario = passivasAtaque.getJogador();
                                maquina = passivasAtaque.getMaquina();
                                opçõesMonstro.get(5).setVisible(false);
                                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                    m.setAtacou(true);
                                    bot1.setVisible(false);
                                }
                                bot2.setVisible(false);
                                bot3.setVisible(false);
                                z = false;
                                atualizarCampo();
                                log.appendText(passivasAtaque.getTexto());
                                log.appendText("\n");
                            }
                        }
                    }

                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() < maquina.getMonstrosCampo().get(5).getDefesa()) {
                            int diferença = maquina.getMonstrosCampo().get(5).getDefesa() - m.getAtaque();
                            usuario.reduzirPontosVida(diferença);
                            pts2.setText(String.valueOf(usuario.getPontosVida()));
                            int k = usuario.getMonstrosCampo().indexOf(m);
                            int i;
                            for (i = 0; i < campoMonstro1.size(); i++) {
                                if (campoMonstro1.get(i).getImage() == usuario.getMonstrosCampo().get(k).getFoto()) {
                                    campoMonstro1.get(i).setVisible(false);
                                    campoMonstro1.get(i).setImage(null);
                                }
                            }
                            Carta c = usuario.getMonstrosCampo().remove(k);
                            usuario.addCartaNoCemitério(c);
                            cemitérioJogador.setImage(c.getFoto());
                            z = false;
                            bot1.setVisible(false);
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(5).getNome());
                            log.appendText("\n");
                            log.appendText(usuario.getNome() + " perdeu " + diferença + " pontos de vida");
                            log.appendText("\n");
                        }
                    }
                    if (maquina.getMonstrosCampo().isEmpty() == false && m.isAtacou() == false) {
                        if (m.getAtaque() == maquina.getMonstrosCampo().get(5).getDefesa()) {
                            if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                                m.setAtacou(true);
                                bot1.setVisible(false);
                            }
                            bot2.setVisible(false);
                            bot3.setVisible(false);
                            z = false;
                            log.appendText(m.getNome() + " atacou " + maquina.getMonstrosCampo().get(5).getNome());
                            log.appendText("\n");
                            log.appendText("Os monstros empataram");
                            log.appendText("\n");
                        }
                    }
                }
                if (z == true) {
                    if (maquina.getMonstrosCampo().isEmpty() == false) {
                        Carta c = maquina.getMonstrosCampo().remove(5);
                        maquina.addCartaNoCemitério(c);
                        cemitérioMáquina.setImage(c.getFoto());
                    }
                }
            }
            passivas.setJogador(maquina);
            passivas.setMaquina(usuario);
            passivas.continuas();
            usuario = passivas.getMaquina();
            maquina = passivas.getJogador();
            if (verificarTérmino() == true) {
                JOptionPane.showMessageDialog(null, "Você venceu !");
            }
            bot5.setVisible(false);
        }
    }

    public void atacarDireto(ActionEvent event) {
        armadilhas.setJogador(maquina);
        armadilhas.setMaquina(usuario);
        passivasAtaque.setJogador(usuario);
        passivasAtaque.setMaquina(maquina);
        if (m.getModo().equals("Ataque")) {
            if (passivasAtaque.efeitoAtacante(m, null) == false) {
                numero = 1;
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
                if (armadilhas.armadilhaAtaque(m) == false) {
                    maquina.reduzirPontosVida(m.getAtaque());
                    pts1.setText(String.valueOf(maquina.getPontosVida()));
                    log.appendText(m.getNome() + " atacou diretamente");
                    log.appendText("\n");
                    log.appendText(maquina.getNome() + " perdeu " + m.getAtaque() + " pontos de vida");
                    log.appendText("\n");
                    if (verificarTérmino() == true) {
                        JOptionPane.showMessageDialog(null, "Você venceu !");
                    }
                } else {
                    maquina = armadilhas.getJogador();
                    usuario = armadilhas.getMaquina();
                    atualizarCampo();
                    log.appendText(armadilhas.getTexto());
                    log.appendText("\n");
                }
            } else {
                numero = 1;
                if (m.getnAtks() == 0 || m.getnAtks() == 2) {
                    m.setAtacou(true);
                    bot1.setVisible(false);
                }
                bot2.setVisible(false);
                bot3.setVisible(false);
                if (armadilhas.armadilhaAtaque(m) == false) {
                    //maquina = passivasAtaque.getMaquina();
                    //usuario = passivasAtaque.getJogador();
                    atualizarCampo();
                    log.appendText(passivasAtaque.getTexto());
                    log.appendText("\n");
                } else {
                    maquina = armadilhas.getJogador();
                    usuario = armadilhas.getMaquina();
                    atualizarCampo();
                    log.appendText(armadilhas.getTexto());
                    log.appendText("\n");
                }
            }
        }
    }

    public void verCemitérioMáquina(MouseEvent event) throws IOException {
        FXMLLoader loader = new FXMLLoader();
        loader.setLocation(getClass().getResource("TelaCemitério.fxml"));
        Parent p = loader.load();
        Scene scene = new Scene(p);
        Stage s = new Stage();
        s.setScene(scene);
        TelaCemitérioController t2 = loader.getController();
        t2.receberCarta(maquina.getCemitério());
        s.setTitle("Cemitério " + maquina.getNome());
        Image icon = new Image(getClass().getResourceAsStream("/imagens/cemitério.jpg"));
        s.getIcons().add(icon);
        s.show();
    }

    public void verCemitérioJogador(MouseEvent event) throws IOException {
        FXMLLoader loader = new FXMLLoader();
        loader.setLocation(getClass().getResource("TelaCemitério.fxml"));
        Parent p = loader.load();
        Scene scene = new Scene(p);
        Stage s = new Stage();
        s.setScene(scene);
        TelaCemitérioController t2 = loader.getController();
        t2.receberCarta(usuario.getCemitério());
        s.setTitle("Cemitério " + usuario.getNome());
        Image icon = new Image(getClass().getResourceAsStream("/imagens/cemitério.jpg"));
        s.getIcons().add(icon);
        s.show();
    }

}
